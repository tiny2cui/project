
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
    <meta content="360doc" name="classification" />
    
    <link rel="alternate" media="only screen and (max-width: 640px)" href="http://www.360doc.cn/article/13084517_324106243.html"/>
    <meta content="H264,SPS,PPS" name=keywords>
    <meta content="H264参数语法： SPS、PPS" name=description>
    <meta name="mobile-agent" content="format=html5;url=http://www.360doc.cn/article/13084517_324106243.html"/>

    <meta content="www.360doc.com" name="author" />

    <title>
        H264参数语法： SPS、PPS
    </title>
    <link href="http://bdimg.share.baidu.com/static/css/bdsstyle.css?cdnversion=20130704" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="http://libs.baidu.com/jquery/1.4.4/jquery.min.js"></script>
    <script type="text/javascript" src="http://www.360doc.com/js/jQuery.md5.js?t=2013121101"></script>
    
    <script type="text/javascript" language="javascript">
        window.onerror = ignoreError;
        function ignoreError() {
            return true;
        }
    </script>

    <link href="http://css.360doc.com/wzhead-cleaned.css?t=2014041401" rel="stylesheet" type="text/css" />
    <link href="http://css.360doc.com/wz20130912-cleaned.css?t=2014042105" rel="stylesheet" type="text/css" />

    

    <script type="text/javascript" src="/js/indexhead.js?t=2013121101"></script>
    <script type="text/javascript" src="/js/showarticlefollow20130912.js?t=2014040301"></script>
</head>
<body style="font-family: Arial, Helvetica, sans-serif;" onmouseup="setDragEnd()"
    onmousemove="DragDiv();" onclick="delAllDiv(event)">
    <span id="LayerLogin"></span>
    <div class="mainnav">
        <div class="mainnav1">
            <div class="lf360" style="padding-top: 5px; padding-left: 10px; position: relative;">
                <a href="/index.html">
                    <img src="http://pubimage.360doc.com/index/sy-8.gif" /></a>
            </div>
            <div style="position: absolute; padding-top: 12px; padding-left: 4px; width: 525px;">
                <table border="0" cellpadding="0" cellspacing="0" height="34">
                    <tbody>
                        <tr>
                            <td style="width: 110px; *width: 0px; _width: 0px;"></td>
                            <td width="100px" class="  navwz1">
                                <a href="/index.html">首&nbsp;页</a>
                            </td>
                            <td width="100px" class="  navwz1">
                                <a href="/readroom.html">阅览室</a>
                            </td>
                            <td width="88px" class="  navwz1">
                                <a href="/weekstar.html">馆友</a>
                            </td>
                            <td width="132px" class="  navwz1">
                                <a href="http://www.360doc.com/my360doc.aspx">我的图书馆</a>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div class="rt360" style="padding-top: 18px; width: 200px;" id="outerdiv">
            </div>
            <div class=" rt360" style="padding-top: 17px; padding-right: 0px;">
                <div class="lf360 serch">
                    <input id="txtSearchword" onkeyup="showIntelliSense()" name="input2" type="text"
                        class="serchpt" value="搜文章 找馆友" onblur="if(!this.value) {this.value='搜文章 找馆友';this.style.color='#b2b2b2';}"
                        onfocus="if(this.value=='搜文章 找馆友') this.value='';this.style.color='#272727'"
                        onkeydown="ongosearch()" onpaste="showIntelliSense1();" />
                </div>
                <div class="lf360 ssuo" style="position: relative;">
                    <a href="javascript:gosearch();" id="searchlinkid"></a>
                </div>
                <div id="divsearch" style="position: absolute; margin-top: 25px; margin-left: 1px; *margin-left: -223px; z-index: 100; display: block;">
                </div>
            </div>
        </div>
    </div>
    <div class="navxt">
    </div>
    <div class="both">
    </div>
    <div class="mainzt">
        <table class="index_main" border="0" cellpadding="0" cellspacing="0">
            <tbody>
                <tr>
                    <td align="left" valign="top" width="727px">
                        <div id='ADAboveArtContent'>
                        </div>
                        <div style="height: 7px;">
                        </div>
                        <table border="0" cellpadding="0" cellspacing="0" class="mainbj" id="docArtClass">
                            <tbody>
                                <tr>
                                    <td>
                                        <table border="0" cellpadding="0" cellspacing="0" style="width: 100%; text-align: center;">
                                            <tbody>
                                                <tr>
                                                    <td>
                                                        <table style="width: 100%; text-align: left;" border="0" cellpadding="0" cellspacing="0">
                                                            <tbody>
                                                                <tr>
                                                                    <td class="biaoti">
                                                                        <div class="biaoti2 lf360">
                                                                            H264参数语法： SPS、PPS
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td style="height: 32px;">


                                                                        <div style="width: 670px; height: 28px; padding-left: 26px; color: #777b7a;">
                                                                            <table>
                                                                                <tr>
                                                                                    <td>收藏人：<span class="name" onclick="wzhitnew(1);"><A href="http://www.360doc.com/userhome/13084517" target="_blank">SamBookshelf</A></span>
                                                                                    </td>
                                                                                    <td>
                                                                                        <div class="btzctsg" id="spanfollowstatus">
                                                                                        </div>
                                                                                        <script>isfollow(13084517);</script>
                                                                                    </td>

                                                                                </tr>
                                                                            </table>
                                                                        </div>




                                                                        <div class="wztopxx">
                                                                            <div style="float: left; height: 28px; padding-top: 7px;">
                                                                                <table cellpadding="0" cellspacing="0" style="position: relative; z-index: 4">
                                                                                    <tbody>
                                                                                        <tr>

                                                                                            <td>
                                                                                                2013-10-25&nbsp;|&nbsp;阅：<span id="360doc_Readnum"></span>&nbsp;&nbsp;<span
                                                                                                    style="position: relative;">转：<span onclick="wzhitnew(3)" id="360doc_saverNum"></span><span
                                                                                                        id="360doc_saverUser"></span></span>&nbsp;&nbsp;



                                                                                            </td>

                                                                                            <td>
                                                                                                <div style="position: relative;">
                                                                                                    &nbsp;|&nbsp;<span id="docsource"></span>
                                                                                                </div>
                                                                                                <div class="sekuaibox" style="display: none; margin-left: 48px;" id="zihaoboxID">
                                                                                                    <div style="padding-top: 10px; padding-left: 5px;">
                                                                                                        <div class="lf360 danxunbt">
                                                                                                            <input id="artdocfont3" onclick="ChangeArtSize(3, this); wzhitnew(15); " name="radio"
                                                                                                                type="radio" value="1" />
                                                                                                        </div>
                                                                                                        <div class="lf360 danxunwz" onclick="ChangeArtSize(3,this);wzhitnew(15); " style="cursor: pointer;">
                                                                                                            大
                                                                                                        </div>
                                                                                                        <div class="lf360 danxunbt">
                                                                                                            <input id="artdocfont2" onclick="ChangeArtSize(2, this); wzhitnew(16); " name="radio"
                                                                                                                type="radio" value="2" />
                                                                                                        </div>
                                                                                                        <div class="lf360 danxunwz" onclick="ChangeArtSize(2,this);wzhitnew(16); " style="cursor: pointer;">
                                                                                                            中
                                                                                                        </div>
                                                                                                        <div class="lf360 danxunbt">
                                                                                                            <input id="artdocfont1" onclick="ChangeArtSize(1, this); wzhitnew(17); " name="radio"
                                                                                                                type="radio" value="3" />
                                                                                                        </div>
                                                                                                        <div class="lf360 danxunwz" onclick="ChangeArtSize(1,this);wzhitnew(17); " style="cursor: pointer;">
                                                                                                            小
                                                                                                        </div>
                                                                                                    </div>
                                                                                                </div>
                                                                                                <div class="sekuaibox" style="margin-left: 76px; display: none;" id="sekuaiboxID">
                                                                                                    <div style="padding-top: 10px; padding-left: 5px;">
                                                                                                        <img src="http://pubimage.360doc.com/wz/cr1.gif" id="docArtC1" onclick="ChangeArtClass(1,this);wzhitnew(18);"
                                                                                                            style="cursor: pointer;" /><img src="http://pubimage.360doc.com/wz/cr2.gif" id="docArtC2"
                                                                                                                onclick="ChangeArtClass(2,this);wzhitnew(19);" style="cursor: pointer;" /><img src="http://pubimage.360doc.com/wz/cr3.gif"
                                                                                                                    id="docArtC3" onclick="ChangeArtClass(3,this);wzhitnew(20);" style="cursor: pointer;" /><img
                                                                                                                        src="http://pubimage.360doc.com/wz/cr4.gif" id="docArtC4" onclick="ChangeArtClass(4,this);wzhitnew(21);"
                                                                                                                        style="cursor: pointer;" /><img src="http://pubimage.360doc.com/wz/cr5.gif" id="docArtC5"
                                                                                                                            onclick="ChangeArtClass(5,this);wzhitnew(22);" style="cursor: pointer;" /><img src="http://pubimage.360doc.com/wz/cr6.gif"
                                                                                                                                id="docArtC6" onclick="ChangeArtClass(6,this);wzhitnew(23);" style="cursor: pointer;" />
                                                                                                    </div>
                                                                                                </div>
                                                                                            </td>
                                                                                            <td>
                                                                                                <div style="padding-left: 10px;">
                                                                                                    <a href="javascript:void(0)">
                                                                                                        <img onmouseover="changedivdisplay(1);" src="http://pubimage.360doc.com/wz/wz1.gif" /></a>
                                                                                                </div>
                                                                                            </td>
                                                                                            <td>
                                                                                                <div style="padding-left: 10px;" onmouseover="changedivdisplay(2);">
                                                                                                    <a href="javascript:void(0)">
                                                                                                        <img src="http://pubimage.360doc.com/wz/wz2.gif" /></a>
                                                                                                </div>
                                                                                            </td>
                                                                                            <td>&nbsp;&nbsp;|&nbsp;&nbsp;<a href="#" onclick=" setTimeout(showShareLayer, 10);wzhitnew(4);">分享</a>&nbsp;</td>
                                                                                            <td>
                                                                                                <a href="#" onclick="  setTimeout(showShareLayer, 10);wzhitnew(5);">
                                                                                                    <img style="cursor: pointer;" src="http://pubimage.360doc.com/wz/tb10.gif"></a><div
                                                                                                        class="fenxiang" id="fenxiangLayer" style="display: none; border: none; width: 110px; margin-left: -28px; _margin-left: -40px;">
                                                                                                    </div>
                                                                                            </td>
                                                                                        </tr>
                                                                                    </tbody>
                                                                                </table>
                                                                            </div>
                                                                            <div id="resavelayer1" class="rt360">
                                                                            </div>


                                                                            <div id="shareweixinabove" class="rt360">
                                                                            </div>


                                                                            <table cellpadding="0" cellspacing="0" style="text-align: center; margin: 0px auto;">
                                                                                <tbody>
                                                                                    <tr>
                                                                                        <td>
                                                                                            <div id="AlertArt1" style="display: none; position: absolute;">
                                                                                            </div>
                                                                                            <div id="SendToFriends1" style="display: none; position: absolute; z-index: 100;">
                                                                                            </div>
                                                                                            <div class="lf360 zcbutton" style="margin-left: 100px;">
                                                                                            </div>
                                                                                            <div class="lf360">
                                                                                                &nbsp;&nbsp;
                                                                                            </div>
                                                                                        </td>
                                                                                    </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td></td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </td>
                                                </tr>
                                                <tr>
                                                    <td>
                                                        
                                                        <table class="wenzhangcss" border="0" cellpadding="0" cellspacing="0" width="100%">
                                                            <tbody>
                                                                <tr>
                                                                    <td>
                                                                        <div class="xiantao">
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td align="left" valign="top" width="670px" style="height: 200px;">
                                                                        <span id="articlecontent" onmousedown="newhighlight = true;" onmouseup="NewHighlight(event)">
                                                                            <table>
                                                                                <tbody>
                                                                                    <tr>
                                                                                        <td width="670px" style="position: relative;">
                                                                                            <p sizcache="6" sizset="36"><span style="FONT-SIZE: 18px; COLOR: #ff0000" sizcache="6" sizset="36"><strong sizcache="6" sizset="36">牛逼的视频会议网站：<a href="http://wmnmtm.blog.163.com/blog/#m=0">http://wmnmtm.blog.163.com/blog/#m=0</a></strong></span></p>
<p><span style="FONT-SIZE: 18px; COLOR: #ff0000">++++++++++++++++++++++++++++++++++++++++++++++++++++</span></p>
<p sizcache="6" sizset="37"><a href="http://wmnmtm.blog.163.com/blog/static/38245714201192491746701/">http://wmnmtm.blog.163.com/blog/static/38245714201192491746701/</a><br></p>
<p><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial; COLOR: rgb(51,51,51); TEXT-ALIGN: left; LINE-HEIGHT: 25px">使用RTP传输H264的时候,需要用到sdp协议描述,其中有两项:Sequence Parameter&nbsp;</span><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial; COLOR: rgb(204,0,51); TEXT-ALIGN: left">Sets</span><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial; COLOR: rgb(51,51,51); TEXT-ALIGN: left; LINE-HEIGHT: 25px">&nbsp;(</span><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial; COLOR: rgb(204,0,51); TEXT-ALIGN: left">SPS</span><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial; COLOR: rgb(51,51,51); TEXT-ALIGN: left; LINE-HEIGHT: 25px">) 和Picture Parameter&nbsp;</span><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial; COLOR: rgb(204,0,51); TEXT-ALIGN: left">Set</span><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial; COLOR: rgb(51,51,51); TEXT-ALIGN: left; LINE-HEIGHT: 25px">&nbsp;(</span><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial; COLOR: rgb(204,0,51); TEXT-ALIGN: left">PPS</span><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial; COLOR: rgb(51,51,51); TEXT-ALIGN: left; LINE-HEIGHT: 25px">)需要用到,那么这两项从哪里获取呢?答案是从H264码流中获取.在H264码流中,都是以"0x00 0x00 0x01"或者"0x00 0x00 0x00 0x01"为开始码的,找到开始码之后,使用开始码之后的第一个字节的低5位判断是否为7(sps)或者8(pps), 及data[4] &amp; 0x1f == 7 || data[4] &amp; 0x1f == 8.然后对获取的nal去掉开始码之后进行base64编码,得到的信息就可以用于sdp.sps和pps需要用逗号分隔开来.</span><br></p>
<p>+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</p>
<p>
<h1 style="WORD-WRAP: break-word; COLOR: rgb(68,68,68); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; FONT: 700 16px ''Microsoft Yahei'',Hei,Tahoma,SimHei,sans-serif; PADDING-LEFT: 0px; MARGIN: 0px; PADDING-RIGHT: 0px" sizcache="6" sizset="38"><a href="http://blog.csdn.net/pkueecser/article/details/" name="t0"></a><a style="WORD-WRAP: break-word; COLOR: rgb(51,51,51); TEXT-DECORATION: none" href="http://www.pernet.tv.sixxs.org/thread-109-1-1.html">如何解析SDP中包含的H.264的SPS和PPS串</a></h1>
<p>
<p sizcache="6" sizset="40"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px" sizcache="6" sizset="40"><a href="http://www.pernet.tv.sixxs.org/thread-109-1-1.html">http://www.pernet.tv.sixxs.org/thread-109-1-1.html</a><br></span></p>
<p sizcache="6" sizset="41"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">SDP中的H.264的SPS和PPS串，包含了初始化H.264解码器所需要的信息参数，包括编码所用的profile，level，图像的宽和高，deblock滤波器等。</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">由于SDP中的SPS和PPS都是BASE64编码形式的，不容易理解，附件有一个工具软件可以对SDP中的SPS和PPS进行解析。</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">用法是在命令行中输入：</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">spsparser sps.txt pps.txt output.txt</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">例如sps.txt中的内容为：</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">Z0LgFNoFglE=</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">pps.txt中的内容为：</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">aM4wpIA=</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">最终解析的到的结果为：</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">Start dumping SPS:</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;profile_idc = 66</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;constrained_set0_flag = 1</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;constrained_set1_flag = 1</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;constrained_set2_flag = 1</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;constrained_set3_flag = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;level_idc = 20</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;seq_parameter_set_id = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;chroma_format_idc = 1</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;bit_depth_luma_minus8 = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;bit_depth_chroma_minus8 = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;seq_scaling_matrix_present_flag = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;log2_max_frame_num_minus4 = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;pic_order_cnt_type = 2</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;log2_max_pic_order_cnt_lsb_minus4 = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;delta_pic_order_always_zero_flag = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;offset_for_non_ref_pic = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;offset_for_top_to_bottom_field = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;num_ref_frames_in_pic_order_cnt_cycle = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;num_ref_frames = 1</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;gaps_in_frame_num_value_allowed_flag = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;pic_width_in_mbs_minus1 = 21</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;pic_height_in_mbs_minus1 = 17</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;frame_mbs_only_flag = 1</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;mb_adaptive_frame_field_flag = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;direct_8x8_interence_flag = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;frame_cropping_flag = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;frame_cropping_rect_left_offset = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;frame_cropping_rect_right_offset = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;frame_cropping_rect_top_offset = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;frame_cropping_rect_bottom_offset = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;vui_parameters_present_flag = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">Start dumping PPS:</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;pic_parameter_set_id = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;seq_parameter_set_id = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;entropy_coding_mode_flag = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;pic_order_present_flag = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;num_slice_groups_minus1 = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;slice_group_map_type = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;num_ref_idx_l0_active_minus1 = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;num_ref_idx_l1_active_minus1 = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;weighted_pref_flag = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;weighted_bipred_idc = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;pic_init_qp_minus26 = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;pic_init_qs_minus26 = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;chroma_qp_index_offset = 10</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;deblocking_filter_control_present_flag = 1</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;constrained_intra_pred_flag = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;redundant_pic_cnt_present_flag = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;transform_8x8_mode_flag = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;pic_scaling_matrix_present_flag = 0</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;second_chroma_qp_index_offset = 10</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">/////////////////////////////////////////////////////////////////////////////////////////////////</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">这里需要特别提一下这两个参数</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">pic_width_in_mbs_minus1 = 21</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">&nbsp;&nbsp;pic_height_in_mbs_minus1 = 17</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">分别表示图像的宽和高，以宏块（16x16）为单位的值减1</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><span style="FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px">因此，实际的宽为 (21+1)*16 = 352</span><br style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,sans-serif; COLOR: rgb(68,68,68); LINE-HEIGHT: 21px"><img style="WORD-WRAP: break-word; VERTICAL-ALIGN: middle" border="0" alt="" src="http://image66.360doc.com/DownloadImg/2013/10/2514/36229475_1.gif">&nbsp;<span style="WORD-WRAP: break-word; WHITE-SPACE: nowrap" sizcache="6" sizset="41"><a style="WORD-WRAP: break-word; COLOR: rgb(51,102,153)" href="http://www.pernet.tv.sixxs.org/forum.php?mod=attachment&amp;aid=MTk4fGQ5N2EzMGI5fDEzMzIxMjUxMzh8MHwxMDk%3D" target="_blank">spsparser.rar</a></span><br></p>
<p>
<div style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial; OVERFLOW-X: hidden; OVERFLOW-Y: hidden; WORD-BREAK: break-all; ZOOM: 1 !important; FONT-WEIGHT: bold; LINE-HEIGHT: 18px; VISIBILITY: visible !important">++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++</div>
<div style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial; OVERFLOW-X: hidden; OVERFLOW-Y: hidden; WORD-BREAK: break-all; ZOOM: 1 !important; FONT-WEIGHT: bold; LINE-HEIGHT: 18px; VISIBILITY: visible !important" sizcache="13" sizset="0">
<p style="BORDER-LEFT-WIDTH: 0px; MARGIN-BOTTOM: 1.14em; FONT-SIZE: 14px; FONT-FAMILY: 'Trebuchet MS',Trebuchet,'Lucida Sans Unicode','Lucida Grande','Lucida Sans',Arial,sans-serif; BORDER-RIGHT-WIDTH: 0px; VERTICAL-ALIGN: baseline; BORDER-BOTTOM-WIDTH: 0px; OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; MARGIN-TOP: 0px; OUTLINE-COLOR: ; LINE-HEIGHT: 20px; BORDER-TOP-WIDTH: 0px" sizcache="6" sizset="42"><a href="http://krdai.info.sixxs.org/blog/mp4-sps-pps-data.html">http://krdai.info.sixxs.org/blog/mp4-sps-pps-data.html</a></p>
<p style="BORDER-LEFT-WIDTH: 0px; MARGIN-BOTTOM: 1.14em; FONT-SIZE: 14px; FONT-FAMILY: 'Trebuchet MS',Trebuchet,'Lucida Sans Unicode','Lucida Grande','Lucida Sans',Arial,sans-serif; BORDER-RIGHT-WIDTH: 0px; VERTICAL-ALIGN: baseline; BORDER-BOTTOM-WIDTH: 0px; OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; MARGIN-TOP: 0px; OUTLINE-COLOR: ; LINE-HEIGHT: 20px; BORDER-TOP-WIDTH: 0px"><span style="COLOR: rgb(0,3,5)">最近在做跟 h264 encode/decode 相關的研究，目標是</span><span style="COLOR: #ff0000">希望可以從 Android 的 MediaRecorder 當中取出 h264 的資訊。目前問題是在於 SPS 以及 PPS 到底要怎樣得到。由於 MediaRecorder 是寫入 mp4 檔案中，所以不得已只好來去分析一下 mp4 的檔案格式，</span><span style="COLOR: #000305">發現沒有想像中的困難. 主要是參照 ISO/IEC 14496-15 這部份. 在 mp4 的檔案之中, 找到 avcC 這個字串, 之後就是接上 AVCDecoderConfigurationRecord. AVCDecoderConfigurationRecord 的 format 如下:</span></p>
<p style="BORDER-LEFT-WIDTH: 0px; MARGIN-BOTTOM: 1.14em; FONT-SIZE: 14px; FONT-FAMILY: 'Trebuchet MS',Trebuchet,'Lucida Sans Unicode','Lucida Grande','Lucida Sans',Arial,sans-serif; BORDER-RIGHT-WIDTH: 0px; VERTICAL-ALIGN: baseline; BORDER-BOTTOM-WIDTH: 0px; COLOR: rgb(0,3,5); OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; MARGIN-TOP: 0px; OUTLINE-COLOR: ; LINE-HEIGHT: 20px; BORDER-TOP-WIDTH: 0px">
<div sizcache="13" sizset="0">
<div sizcache="6" sizset="43">
<div sizcache="6" sizset="43"><b>[cpp]</b> <a title="view plain" href="http://blog.csdn.net/pkueecser/article/details/7367641#">view plain</a><a title="copy" href="http://blog.csdn.net/pkueecser/article/details/7367641#">copy</a></div></div>
<ol sizcache="13" sizset="0">
<li><span><span>aligned(8)&nbsp;</span><span>class</span><span>&nbsp;AVCDecoderConfigurationRecord&nbsp;{&nbsp;&nbsp;</span></span></li>
<li><span>&nbsp;&nbsp;&nbsp;unsigned&nbsp;</span><span>int</span><span>(8)&nbsp;configurationVersion&nbsp;=&nbsp;1;&nbsp;&nbsp;</span></li>
<li><span>&nbsp;&nbsp;&nbsp;unsigned&nbsp;</span><span>int</span><span>(8)&nbsp;AVCProfileIndication;&nbsp;&nbsp;</span></li>
<li><span>&nbsp;&nbsp;&nbsp;unsigned&nbsp;</span><span>int</span><span>(8)&nbsp;profile_compatibility;&nbsp;&nbsp;</span></li>
<li><span>&nbsp;&nbsp;&nbsp;unsigned&nbsp;</span><span>int</span><span>(8)&nbsp;AVCLevelIndication;&nbsp;&nbsp;</span></li>
<li><span>&nbsp;&nbsp;</span></li>
<li><span>bit(6)&nbsp;reserved&nbsp;=&nbsp;</span><span>'111111'</span><span>b;&nbsp;&nbsp;</span></li>
<li><span>&nbsp;&nbsp;&nbsp;unsigned&nbsp;</span><span>int</span><span>(2)&nbsp;lengthSizeMinusOne;&nbsp;&nbsp;</span></li>
<li><span>&nbsp;&nbsp;</span></li>
<li><span>bit(3)&nbsp;reserved&nbsp;=&nbsp;</span><span>'111'</span><span>b;&nbsp;&nbsp;</span></li>
<li><span>&nbsp;&nbsp;&nbsp;unsigned&nbsp;</span><span>int</span><span>(5)&nbsp;numOfSequenceParameterSets;&nbsp;&nbsp;</span></li>
<li><span>&nbsp;&nbsp;</span></li>
<li><span></span><span>for</span><span>&nbsp;(i=0;&nbsp;i&lt;&nbsp;numOfSequenceParameterSets;&nbsp;i++)&nbsp;{&nbsp;&nbsp;</span></li>
<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;</span><span>int</span><span>(16)&nbsp;sequenceParameterSetLength&nbsp;;&nbsp;&nbsp;</span></li>
<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bit(8*sequenceParameterSetLength)&nbsp;sequenceParameterSetNALUnit;&nbsp;&nbsp;</span></li>
<li><span>&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li><span>&nbsp;&nbsp;&nbsp;unsigned&nbsp;</span><span>int</span><span>(8)&nbsp;numOfPictureParameterSets;&nbsp;&nbsp;</span></li>
<li><span>&nbsp;&nbsp;&nbsp;</span><span>for</span><span>&nbsp;(i=0;&nbsp;i&lt;&nbsp;numOfPictureParameterSets;&nbsp;i++)&nbsp;{&nbsp;&nbsp;</span></li>
<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;unsigned&nbsp;</span><span>int</span><span>(16)&nbsp;pictureParameterSetLength;&nbsp;&nbsp;</span></li>
<li><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bit(8*pictureParameterSetLength)&nbsp;pictureParameterSetNALUnit;&nbsp;&nbsp;</span></li>
<li><span>&nbsp;&nbsp;&nbsp;}&nbsp;&nbsp;</span></li>
<li><span>}&nbsp;&nbsp;</span></li></ol></div><br>
<p>
<p style="BORDER-LEFT-WIDTH: 0px; MARGIN-BOTTOM: 1.14em; FONT-SIZE: 14px; FONT-FAMILY: 'Trebuchet MS',Trebuchet,'Lucida Sans Unicode','Lucida Grande','Lucida Sans',Arial,sans-serif; BORDER-RIGHT-WIDTH: 0px; VERTICAL-ALIGN: baseline; BORDER-BOTTOM-WIDTH: 0px; COLOR: rgb(0,3,5); OUTLINE-WIDTH: 0px; PADDING-BOTTOM: 0px; TEXT-ALIGN: left; PADDING-TOP: 0px; MARGIN-TOP: 0px; OUTLINE-COLOR: ; LINE-HEIGHT: 20px; BORDER-TOP-WIDTH: 0px">對照一下這樣就可以找到 SPS 和 PPS</p><br></div>
<div style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial; OVERFLOW-X: hidden; OVERFLOW-Y: hidden; WORD-BREAK: break-all; ZOOM: 1 !important; FONT-WEIGHT: bold; LINE-HEIGHT: 18px; VISIBILITY: visible !important">+++++++++++++++++++++++++++++++++++++++++++++</div>
<div style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial; OVERFLOW-X: hidden; OVERFLOW-Y: hidden; WORD-BREAK: break-all; ZOOM: 1 !important; FONT-WEIGHT: bold; LINE-HEIGHT: 18px; VISIBILITY: visible !important"><br></div>
<div style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial; OVERFLOW-X: hidden; OVERFLOW-Y: hidden; WORD-BREAK: break-all; ZOOM: 1 !important; FONT-WEIGHT: bold; LINE-HEIGHT: 18px; VISIBILITY: visible !important">vlc没有收到pps和sps</div>
<div style="WORD-WRAP: break-word; FONT-FAMILY: Arial; WORD-BREAK: break-all; ZOOM: 1 !important; COLOR: rgb(102,102,102); MARGIN: 5px 0px 8px; LINE-HEIGHT: 18px; VISIBILITY: visible !important">2010-10-08 16:16</div>
<table style="FONT-FAMILY: Arial; ; WIDTH: 960px" sizcache="13" sizset="22">
<tbody sizcache="13" sizset="22">
<tr sizcache="13" sizset="22">
<td style="WORD-WRAP: break-word; FONT-FAMILY: Arial; WORD-BREAK: break-all; ZOOM: 1 !important; LINE-HEIGHT: 18px; VISIBILITY: visible !important" sizcache="13" sizset="22">
<div style="WORD-WRAP: break-word; FONT-SIZE: 14px; OVERFLOW-X: hidden; OVERFLOW-Y: hidden; POSITION: relative !important; WORD-BREAK: break-all; ZOOM: 1 !important; COLOR: rgb(51,51,51); LINE-HEIGHT: 20px; VISIBILITY: visible !important" sizcache="13" sizset="22"><span style="COLOR: rgb(255,0,0); LINE-HEIGHT: normal">问题 packetizer_h264 packetizer warning: waiting for SPS/PPS<br><br></span>是因为解码器只是在第一次执行编码的时候，才编码出 SPS、PPS、和I_Frame；&nbsp;<br style="LINE-HEIGHT: normal"><pre style="LINE-HEIGHT: normal" sizcache="6" sizset="47">h264 packetizer has set so, that it sends sps/pps only first keyframe,
&nbsp;I'm trying to figure what breaks if that is changed so sps/pps is written in every keyframe. 
[出自| <a href="http://trac.videolan.org/vlc/ticket/1384">http://trac.videolan.org/vlc/ticket/1384</a>]</pre>
<p style="LINE-HEIGHT: normal">解决办法：</p>
<p style="LINE-HEIGHT: normal">1、编码器编码出每个关键帧都加上SPS、PPS ，据说通常情况编码器编出的 SPS、PPS是一样的，所以这种方法耗费资源。</p>
<p style="LINE-HEIGHT: normal">2、在服务器接收到客户端请求时，发送第一个package 加上 SPS、PPS。</p>
<p style="LINE-HEIGHT: normal">具体如下：</p>
<ul style="LINE-HEIGHT: normal" sizcache="13" sizset="22">
<li style="LIST-STYLE-TYPE: none" sizcache="6" sizset="48">
<p sizcache="6" sizset="48">1、在&nbsp;<a href="http://server-linux/wiki/VideoOpenFileSource">VideoOpenFileSource</a>&nbsp;添加一个变量 isFirstFrame；</p>
<li style="LIST-STYLE-TYPE: none">2、构造时初始化 isFirstFrame = true; 
<li style="LIST-STYLE-TYPE: none" sizcache="6" sizset="49">
<p sizcache="6" sizset="49">3、在int&nbsp;<a href="http://server-linux/wiki/VideoOpenFileSource">VideoOpenFileSource</a>::readFromBufferChain() 修改如下：</p>
<li style="LIST-STYLE-TYPE: none" sizcache="2" sizset="2"><pre dir="ltr"><span><span> <span style="COLOR: #0000ff">  1 </span></span><span style="COLOR: #0000ff">        <span>if</span>(<span>isFirstFrame</span> == <span>true</span>)</span></span><span style="COLOR: #0000ff">
<span><span>   2 </span>        {</span>
<span><span>   3 </span>                <span>memcpy</span>(<span>fTo</span>, <span>h264_header</span>, <span>sizeof</span>(<span>h264_header</span>)); <span>/* h264_header = pps +sps*/</span></span>
<span><span>   4 </span>                <span>offset</span> = <span>sizeof</span>(<span>h264_header</span>);</span>
<span><span>   5 </span>                <span>framesize</span> = <span>BufferChain_get</span>(<span>fInput</span>.<span>video_bufs</span>, <span>fTo</span> + <span>offset</span>);</span>
<span><span>   6 </span>                <span>offset</span> += <span>framesize</span>;</span>
<span><span>   7 </span>                <span>isFirstFrame</span> = <span>false</span>;</span>
<span><span>   8 </span>                <span>printf</span>(<span>"</span><span>this is the first fime</span><span>\n</span><span>"</span>);</span>
<span><span>   9 </span>                <span>sleep</span>(<span>1</span>);</span>
<span><span>  10 </span>        }</span>
<span><span>  11 </span>        <span>else</span></span>
<span><span>  12 </span>        {</span>
<span><span>  13 </span>                <span>framesize</span> = <span>BufferChain_get</span>(<span>fInput</span>.<span>video_bufs</span>, <span>fTo</span> + <span>offset</span>);</span>
<span><span>  14 </span>                <span>offset</span> += <span>framesize</span>;</span>
<span><span>  15 </span>        }</span>
<span><span>  1</span></span></span></pre></li></li></li></li></ul><pre style="LINE-HEIGHT: normal" sizcache="6" sizset="50">[<a href="http://topic.csdn.net/u/20100801/17/ef35e664-92ff-4144-a35f-3984dcf11da3.html">http://topic.csdn.net/u/20100801/17/ef35e664-92ff-4144-a35f-3984dcf11da3.html</a>| 参考] 


========================================================================
sdp 关于pps和sps的疑问：
packetization-mode 主要是定义包的模式，单一 NALU单元模式（0）；非交错(non-interleaved)封包模式（1）；交错(interleaved)封包模式（2）
sprop-parameter-sets 等于H.264 的序列参数集和图像参数 NAL单元，base64转换；（即＝ sps+pps）
profile-level-id 这个参数用于指示 H.264 流的 profile 类型和级别。这知道这个是啥东东

参考 黑暗长老 <a href="http://www.cppblog.com/czanyou/" target="_blank">www.cppblog.com/czanyou/</a>
ffmpeg decode 关于pps sps问题：
<a href="http://stackoverflow.com/questions/3493742/problem-to-decode-h264-video-over-rtp-with-ffmpeg-libavcodec/3500432#3500432" target="_blank">stackoverflow.com/questions/3493742/problem-to-decode-h264-video-over-rtp-with-ffmpeg-libavcodec/3500432#3500432</a></pre></div></td></tr></tbody></table><br>
<p>
<p><br></p>
<p sizcache="6" sizset="53">如何用C语言取出H.264ES文件里的nal(sps,pps)信息。比如width, height, profile等等<br><br>请高手指点指点。。。&nbsp;<a href="http://www.oschina.net/question/225813_35707">http://www.oschina.net/question/225813_35707</a><br></p>
<p>解析sps,pps的代码在ffmpeg里面就有, 抄出来就行了, 我以前也自己写过...<br>ffmpeg的libavcodec/h264_parser.c,<br>h264_ps.c<br>函数<br>ff_h264_decode_seq_parameter_set<br>ff_h264_decode_picture_parameter_set<br>自己可以看代码.<br></p>
<p><br></p>
<p sizcache="6" sizset="54"><span style="BACKGROUND-COLOR: rgb(255,204,51)">H264参数语法文档： SPS、PPS</span>、IDR&nbsp;<a href="http://blog.csdn.net/heanyu/article/details/6205390">http://blog.csdn.net/heanyu/article/details/6205390</a><br><br>H.264码流第一个 NALU 是 SPS（序列参数集Sequence Parameter Set）<br>对应H264标准文档 7.3.2.1 序列参数集的语法进行解析<br><br></p>
<p><br></p>
<p>
<div style="FONT-FAMILY: Arial,Helvetica,simsun,u5b8bu4f53; COLOR: rgb(70,66,17); TEXT-ALIGN: left; BACKGROUND-COLOR: rgb(194,186,178)" sizcache="6" sizset="55">
<div sizcache="6" sizset="55">
<div sizcache="6" sizset="55">
<h3 style="WORD-WRAP: break-word; FONT-SIZE: 14px; OVERFLOW-X: hidden; OVERFLOW-Y: hidden; WORD-BREAK: break-all; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; PADDING-LEFT: 0px; MARGIN: 30px 0px 20px; LINE-HEIGHT: 24px; PADDING-RIGHT: 0px" sizcache="6" sizset="55"><a href="http://blog.csdn.net/pkueecser/article/details/" name="t1"></a><span style="FONT-SIZE: 20px; FONT-FAMILY: 微软雅黑,黑体,Arial,Helvetica,sans-serif">关于H264通过RTP传输的打包方式</span>&nbsp;&nbsp;<span style="FONT-SIZE: 12px; FONT-WEIGHT: normal; COLOR: rgb(95,95,95); BACKGROUND-COLOR: rgb(238,238,238)"></span></h3>
<p style="MARGIN-BOTTOM: 20px; ZOOM: 1; COLOR: rgb(95,95,95); PADDING-BOTTOM: 0px; PADDING-TOP: 0px; MARGIN-TOP: 0px; LINE-HEIGHT: 20px" sizcache="6" sizset="56"><br><span style="FLOAT: right"><span style="MARGIN: 0px 2px">|</span><span style="POSITION: relative; COLOR: rgb(134,132,2)">字号</span></span><span style="FLOAT: right; COLOR: rgb(134,132,2)" sizcache="6" sizset="56"><span style="HEIGHT: 20px; ZOOM: 1; DISPLAY: inline-block; WIDTH: 20px">&nbsp;</span><a style="TEXT-DECORATION: none" href="http://blog.csdn.net/pkueecser/article/details/">订阅</a></span></p></div></div></div>
<div style="WORD-WRAP: break-word; FONT-SIZE: 14px; FONT-FAMILY: Arial,Helvetica,simsun,u5b8bu4f53; OVERFLOW-X: hidden; OVERFLOW-Y: hidden; COLOR: rgb(70,66,17); PADDING-BOTTOM: 5px; TEXT-ALIGN: left; PADDING-TOP: 5px; PADDING-LEFT: 0px; MARGIN: 15px 0px; LINE-HEIGHT: 25px; PADDING-RIGHT: 0px">
<p style="MARGIN-BOTTOM: 10px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; MARGIN-TOP: 0px; BACKGROUND-COLOR: rgb(194,186,178)"><span style="FONT-SIZE: 13px; LINE-HEIGHT: 23px">Q:现在小弟初次尝试H264的编码通过RTP方式传输，具体实验环境的问题如下：<br>环境：<br>服务器端，H264的帧数据（可能超过64k），分成N个1460字节的包，然后加上RTP头发送。<br>客户端，VLC播放器，通过RTSP协议建立连接，然后接收数据解码播放。<br>结果：<br>VLC不能解码接收到的数据，解码出错，VLC的信息中显示不能解码帧数据。<br>我已经阅读了一遍rfc3984的文档，对里面的如何进行打包和用rtp传输不是非常理解，希望各位大虾能够帮小弟一把，告诉小弟这些和H264的帧该如何发送，该如何分包，该如何加头信息等等。<br>（其中看到FUs的方式好像适合分包发送，因为小弟的数据帧可能超过64k，所以忘大虾们能够仔细解释一下对于小弟这种情况下的RTP传输）</span></p>
<p style="MARGIN-BOTTOM: 10px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; MARGIN-TOP: 0px; BACKGROUND-COLOR: rgb(194,186,178)"><span style="FONT-SIZE: 13px; LINE-HEIGHT: 23px">A:我觉得所有的问题在 RFC3984 里面都已经说得很清楚了。不知道你有哪点不懂，请具体提出来。</span></p>
<p style="MARGIN-BOTTOM: 10px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; MARGIN-TOP: 0px; BACKGROUND-COLOR: rgb(194,186,178)">
<p style="MARGIN-BOTTOM: 10px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; MARGIN-TOP: 0px; BACKGROUND-COLOR: rgb(194,186,178)"><span style="FONT-SIZE: 13px; LINE-HEIGHT: 23px">Q:斑竹好，我这边是用VLC和服务器端进行通讯的，他们是用RTSP协议建立 开始时的连接的，服务器返回DISCRIBERS请求的SDP和下面描述的相同，我使用的packetization-mode=1，即FU-As方式打 包，因为我这边上来的数据帧可能超过64k数据。能否麻烦斑竹看看我这边的SDP写的是否正确。<br>SDP:<br>v=0<br>o=- 1 1 IN IP4 127.0.0.1<br>s=VStream Live<br>a=type:broadcast<br>t=0 0<br>c=IN&nbsp;&nbsp; IP4 0.0.0.0<br>m=video 49170 RTP/AVP 99<br>a=rtpmap:99 H264/90000<br>a=fmtp:99 profile-level-id=42A01E; packetization-mode=1; sprop-parameter-ets=Z0IACpZTBYmI, aMljiA==<br>a=control:trackID=0<br><br>还有就是在RTP发送时，我打好包的数据方式如下面所示：<br>上来的帧数据为：NALU头＋EBSP数据<br>因为帧数据大于1460字节，所以我把数据分为N个不大于1460字节的包，每个包前面加上RTP头发出去。<br>其 中NALU头的数值I帧为0x65，参数集为0x67和0x68，这个值是不是有点错误，我看RFC3984上面说的好像和我现在的有点不 同，RFC3984上面说FU-As方式打包类型值为28，我不知道这个是否十进制的，如果按照RFC3984上说的NALU头应该是多少？还是用FU- As方式的FU indicator代替原来的NALU头。<br>还有这个FU-As方式的头好像是有两个值，一个是FU indicator，另外一个是FU header，这两个值我应该填写什么？<br><br>按照我现在填写的内容，VLC会出现解不出码的情况，希望斑竹可以帮我回答的细致一点。谢谢了。</span></p>
<p style="MARGIN-BOTTOM: 10px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; MARGIN-TOP: 0px; BACKGROUND-COLOR: rgb(194,186,178)"><span style="FONT-SIZE: 13px; LINE-HEIGHT: 23px">A:我觉得 RFC3984 上面说得非常清楚啊。<br>首先你把一个 NALU 的 EBSP 根据需求拆分为多个包，例如 3 个，则：<br><br>第一个 FU-A 包的 FU indicator 应该是：F = NALU 头中的 F；NRI = NALU 头中的 NRI；Type = 28。FU header 应该是：S = 1；E = 0；R = 0；Type = NALU 头中的 Type。<br><br>第二个 FU-A 包的 FU indicator 应该是：F = NALU 头中的 F；NRI = NALU 头中的 NRI；Type = 28。FU header 应该是：S = 0；E = 0；R = 0；Type = NALU 头中的 Type。<br><br>第三个 FU-A 包的 FU indicator 应该是：F = NALU 头中的 F；NRI = NALU 头中的 NRI；Type = 28。FU header 应该是：S = 0；E = 1；R = 0；Type = NALU 头中的 Type。</span></p>
<p style="MARGIN-BOTTOM: 10px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; MARGIN-TOP: 0px; BACKGROUND-COLOR: rgb(194,186,178)"><span style="FONT-SIZE: 13px; LINE-HEIGHT: 23px">Q:版主，我按照你的方式分好包发送了，发现VLC不会出现不能解帧的情况了， 但是，还是出不来图像。我想可能是因为发送序列参数集和图像参数集的方法不对，他们两个的长度都很小，只要一个包就可以了，我现在将他们按照singal NALU的方式发送，就是直接在NALU包前加一个RTP的头，然后发出去。<br>是不是我这样发参数集存在着问题，反正我这边VLC是解不了这个参数集，因为参数集解不了，所以下面的帧肯定解不了，所以出不了图像。<br>麻烦版主再解释一下如何发参数集。</span></p>
<p style="MARGIN-BOTTOM: 10px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; MARGIN-TOP: 0px; BACKGROUND-COLOR: rgb(194,186,178)"><span style="FONT-SIZE: 13px; LINE-HEIGHT: 23px">A:今天刚接受了流媒体的相关培训。懂得看你的&nbsp;&nbsp; SDP 了。<br><br>对 于你的问题，不知道 SPS、PPS 打包是否有问题。按照 RFC3984，而且感觉你打单一包的方式也是错的。我希望你能通过自己学习的方式去把这个问题弄清楚，因为 RFC3984 里面说得很清楚，请你自己学习学习 RFC3984 吧。既然你在做这个工作，还是应该仔细学习一下 RFC3984。<br><br>另外， SDP 中的 sprop-parameter-ets=Z0IACpZTBYmI 实际就是 SPS 和 PPS 的 BASE64 转码，你不用在码流中再传输 SPS/PPS，直接从 SDP 就可以得到。</span></p>
<p style="MARGIN-BOTTOM: 10px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; MARGIN-TOP: 0px"><span style="FONT-SIZE: 13px; LINE-HEIGHT: 23px"><span style="BACKGROUND-COLOR: rgb(194,186,178)">A2:1.</span><span style="BACKGROUND-COLOR: rgb(255,255,0)">SDP中已经包括SPS&amp;PPS，码流中完全可以不用传输SPS&amp;PPS</span><br><span style="BACKGROUND-COLOR: rgb(194,186,178)">2. </span><span style="BACKGROUND-COLOR: rgb(51,255,51)">profile-level-id=42A01E，这是SPS的开头几个字节，剩下的在sprop-parameter- ets=Z0IACpZTBYmI, aMljiA==中，BASE64编码，把“Z0IACpZTBYmI, aMljiA==”反BASE64转换回去，应该刚好是SPS&amp;PPS的内容</span><br><span style="BACKGROUND-COLOR: rgb(194,186,178)">3. 打包注意，要求H.264码流不是byte stream格式的，即没有0x000001分隔，也没有插入0x03，具体如何生成，检查你的编码器选项。</span><br><span style="BACKGROUND-COLOR: rgb(194,186,178)">4. packetization-mode=1模式下，要求每个RTP中只有一个NAL单元，或者一个FU，不分段的NAL不做任何修改，直接作为RTP负 载；分段的NAL注意，NAL头不传输，有效负载从NAL头之后开始，根据NAL头的信息生成FU的头两个字节（相当于NAL头拆为两部分），具体生成方 式版主已经讲得很清楚。</span><br><span style="BACKGROUND-COLOR: rgb(194,186,178)">5. RTP的payload type要与SDP中一致，不然解的出才怪</span></span></p></div><br>
<p>
                                                                                        </td>
                                                                                    </tr>
                                                                                </tbody>
                                                                            </table>
                                                                            <div id="viewerPlaceHolder" style="width: 717px; height: 700px; display: none;">
                                                                            </div>
                                                                        </span>
                                                                        <table>
                                                                            <tbody>
                                                                                <tr>
                                                                                    <td></td>
                                                                                </tr>
                                                                            </tbody>
                                                                        </table>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td align="left">
                                                                        <div style="height: 28px">
                                                                            <div style="font-size: 14px; color: #797b7a; float: left;">
                                                                                来自：<span class="name" onclick="wzhitnew(59)"><A href="http://www.360doc.com/userhome/13084517" target="_blank">SamBookshelf</A></span>&nbsp;>&nbsp;<span
                                                                                    id="cname" onclick="wzhitnew(60)"></span>
                                                                            </div>
                                                                            <div style="float: left;">
                                                                                <div class="btzctsg" id="spanfollowstatus1">
                                                                                </div>
                                                                                <script>isfollow(13084517);</script>
                                                                            </div>
                                                                        </div>
                                                                        <div>
                                                                            <div class="modlist lf360 list" style="padding-top: 0px;">
                                                                                <ul>
                                                                                    <div id='lastart'>
                                                                                    </div>
                                                                                    <div id='nextart'>
                                                                                    </div>
                                                                                </ul>
                                                                            </div>
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td align="left">
                                                                        <div style="padding-top: 12px;">
                                                                            <script type="text/javascript">
                                                                                /*文章页正文下方标签云，2013-8-21*/
                                                                                var cpro_id = "u1350774";
                                                                            </script>
                                                                            <script src="http://cpro.baidustatic.com/cpro/ui/c.js" type="text/javascript"></script>
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td style="text-align: left;">
                                                                        <div style="padding-top: 15px; width: 670px;">
                                                                            <table style="width: 670px;" cellpadding="0" cellspacing="0">
                                                                                <tbody>
                                                                                    <tr>
                                                                                        <td width="77"></td>
                                                                                        <td width="452">
                                                                                            <div class=" lf360" style="cursor: pointer">
                                                                                                <div class="zscbt">
                                                                                                    <a href="javascript:void(0);" onclick="SaveArt();wzhitnew(26);"></a>
                                                                                                </div>
                                                                                            </div>
                                                                                            <div style="margin-left: 10px; cursor: pointer;" class="lf360 xhmainbox" id="sendflowerdiv"
                                                                                                onclick='Showflowerlayer("sendedLayer1");wzhitnew(27)' onmouseover="ChangeFlowerBtnStyle(1);"
                                                                                                onmouseout="ChangeFlowerBtnStyle(2);">
                                                                                                
                                                                                                <div id="flowimg2" class="lf360">
                                                                                                    <div style="padding-left: 16px; padding-top: 12px;">
                                                                                                        <img id="flowimg3" src="http://pubimage.360doc.com/wz/huahua.gif">
                                                                                                    </div>
                                                                                                </div>
                                                                                                <div id="flowimg5" class=" lf360 xianhua">
                                                                                                    献花(<span id="articleflowernum">0</span>)<div id='flowernumadd' class="addtionone">
                                                                                                        +1
                                                                                                    </div>
                                                                                                </div>
                                                                                                
                                                                                            </div>
                                                                                            <div class="lf360" style="cursor: pointer; padding-left: 10px;">
                                                                                                <div class="fxwxbt">
                                                                                                    <a href="javascript:void(0);" onclick="shareWeixin();wzhitnew(64);"></a>
                                                                                                </div>
                                                                                            </div>
                                                                                        </td>
                                                                                        <td style="vertical-align: bottom; font-size: 12px;" width="140">
                                                                                            <div class="rt360" id="sharediv2">
                                                                                            </div>
                                                                                        </td>
                                                                                    </tr>
                                                                                </tbody>
                                                                            </table>
                                                                        </div>
                                                                    </td>
                                                                </tr>
                                                                <tr>
                                                                    <td height="10"></td>
                                                                </tr>
                                                            </tbody>
                                                        </table>
                                                    </td>
                                                </tr>
                                            </tbody>
                                        </table>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                        <div class="lswzbox" style="padding-top: 10px;">
                            <div>
                                <table cellpadding="0" cellspacing="0">
                                    <tbody>
                                        <tr>
                                            <td width="330" valign="top">
                                                <div class="lswz" style="height: 300px;">
                                                    <div class="lstwtop">
                                                        <div class="lswztit">
                                                            <div class=" lf360">
                                                                <div class="titwx1">
                                                                    类似文章
                                                                </div>
                                                            </div>
                                                            <div class="rt360" style="padding-top: 5px; padding-right: 9px;">
                                                                <a href=http://www.360doc.com/relevant/324106243_more.shtml  target='_blank'  onclick='wzhitnew(38)'>更多</a>
                                                            </div>
                                                        </div>
                                                        <div class="modlist2 list">
                                                            <ul>
                                                                
                                                                        <li style="height: 30px; line-height: 30px;"><span>
                                                                            <a href=http://www.360doc.com/content/10/0516/21/1387899_27947081.shtml target=_blank onclick='wzhitnew(37)'>如何结合H.264标准看JM代码</a></span></li>
                                                                    
                                                                        <li style="height: 30px; line-height: 30px;"><span>
                                                                            <a href=http://www.360doc.com/content/13/0704/13/13029862_297576113.shtml target=_blank onclick='wzhitnew(37)'>H.264中NAL、Slice与frame意思及相互关系....</a></span></li>
                                                                    
                                                                        <li style="height: 30px; line-height: 30px;"><span>
                                                                            <a href=http://www.360doc.com/content/13/1231/18/13084517_341546405.shtml target=_blank onclick='wzhitnew(37)'>JM代码阅读之一SODB RBSP EBSP NALU | J...</a></span></li>
                                                                    
                                                                        <li style="height: 30px; line-height: 30px;"><span>
                                                                            <a href=http://www.360doc.com/content/13/0922/10/1317564_316164438.shtml target=_blank onclick='wzhitnew(37)'>SPS、PPS、IDR</a></span></li>
                                                                    
                                                                        <li style="height: 30px; line-height: 30px;"><span>
                                                                            <a href=http://www.360doc.com/content/10/0706/17/2054855_37264793.shtml target=_blank onclick='wzhitnew(37)'>x264中的NAL流程</a></span></li>
                                                                    
                                                                        <li style="height: 30px; line-height: 30px;"><span>
                                                                            <a href=http://www.360doc.com/content/13/0925/13/13084517_316971238.shtml target=_blank onclick='wzhitnew(37)'>字节流格式（Annex B）和RTP格式流浅析</a></span></li>
                                                                    
                                                                        <li style="height: 30px; line-height: 30px;"><span>
                                                                            <a href=http://www.360doc.com/content/12/0627/17/2660674_220789931.shtml target=_blank onclick='wzhitnew(37)'>FFMPEG对RTP直播流转发的实现</a></span></li>
                                                                    
                                                                        <li style="height: 30px; line-height: 30px;"><span>
                                                                            <a href=http://www.360doc.com/content/13/0927/13/13084517_317426164.shtml target=_blank onclick='wzhitnew(37)'>用实例分析H264 RTP payload</a></span></li>
                                                                    
                                                            </ul>
                                                        </div>

                                                    </div>
                                                </div>
                                            </td>

                                            <td width="330" valign="top">
                                                <div class="lswz" style="margin-left: 9px; height: 300px;">
                                                    <iframe width="330px" height="300" marginheight='0' frameborder='0' scrolling='no' src="http://zt.xueersi.com/360doc/360doc.html"></iframe>
                                                </div>
                                            </td>

                                        </tr>
                                    </tbody>
                                </table>
                                <div style="background-color: #fafafa; width: 670px; height: 317px; margin-top: 10px;">
                                    <div style=' padding-top:7px; padding-left:12px; height:182px;'> <div style=' height:30px;'><div class='titwx3 lf360'>猜你喜欢</div><div class=' rt360' style=' padding-right:18px;'><img onclick='changefiveart("19999","19999");wzhitnew(62);' src='http://pubimage.360doc.com/wz/hyz.gif' onmouseover='this.src="http://pubimage.360doc.com/wz/hyza.gif"' onmouseout='this.src="http://pubimage.360doc.com/wz/hyz.gif"' width='76' height='24' style='cursor:pointer;' /></div></div><table cellpadding='0' cellspacing='0'><tr id='fivearttdid'><td valign='top' width='131'><div><a onclick='wzhitnew(39);' href='http://www.360doc.com/content/12/1216/22/152695_254461097.shtml' target='_blank'><img src='http://artpic.360doc.com/13/0828/17/152695_201308281738500369.jpg' width='114' height='86'/></a></div><div class='lan twentit'><a  onclick='wzhitnew(40);' href='http://www.360doc.com/content/12/1216/22/152695_254461097.shtml' target='_blank'>不要出声，静静的看图</a></div></td><td valign='top' width='131'><div><a onclick='wzhitnew(39);' href='http://www.360doc.com/content/14/0126/15/9121025_348112665.shtml' target='_blank'><img src='http://artpic.360doc.com/14/0209/00/9121025_201402090010110313.jpg' width='114' height='86'/></a></div><div class='lan twentit'><a  onclick='wzhitnew(40);' href='http://www.360doc.com/content/14/0126/15/9121025_348112665.shtml' target='_blank'>被骗42万:为啥谁也拦不住我汇款</a></div></td><td valign='top' width='131'><div><a onclick='wzhitnew(39);' href='http://www.360doc.com/content/13/0223/02/7446551_267366952.shtml' target='_blank'><img src='http://artpic.360doc.com/13/0830/13/7446551_201308301306450359_a267366952.jpg' width='114' height='86'/></a></div><div class='lan twentit'><a  onclick='wzhitnew(40);' href='http://www.360doc.com/content/13/0223/02/7446551_267366952.shtml' target='_blank'>古代男人在青楼里做什么？</a></div></td><td valign='top' width='131'><div><a onclick='wzhitnew(39);' href='http://www.360doc.com/content/08/0902/19/9807_1603666.shtml' target='_blank'><img src='http://artpic.360doc.com/13/1208/00/9807_201312080010040478.jpg' width='114' height='86'/></a></div><div class='lan twentit'><a  onclick='wzhitnew(40);' href='http://www.360doc.com/content/08/0902/19/9807_1603666.shtml' target='_blank'>改变性格从吃开始</a></div></td><td valign='top' width='131'><div><a onclick='wzhitnew(39);' href='http://www.360doc.com/content/14/0316/19/16067555_361087388.shtml' target='_blank'><img src='http://artpic.360doc.com/14/0403/10/361087388_201404031044300495.jpg' width='114' height='86'/></a></div><div class='lan twentit'><a  onclick='wzhitnew(40);' href='http://www.360doc.com/content/14/0316/19/16067555_361087388.shtml' target='_blank'>两个小故事让你明白什么叫资本运作</a></div></td></tr></table></div>
                                    <div style="padding-left: 12px;">
                                        <iframe marginwidth="0" marginheight="0" frameborder="0" scrolling="no" width="650" height="100" src="http://www.360doc.com/ad/artadali4.html?t=2014012301"></iframe>
                                    </div>
                                    <div id="adabtest">
                                    </div>

                                </div>





                                <div id="Reflction" style="padding-top: 15px; padding-left: 15px;">
                                    <div id="360docRefTN">
                                    </div>
                                    <div id="360docRefCT">
                                    </div>
                                    <div id="360docRefPB" align="center">
                                    </div>
                                </div>
                                <a name="sf"></a>
                                
                                <div id="ReflectionPart">
                                    <div style="height: 206px; margin: 0px 0px;">
                                        <div class="plbox">
                                            <div class="plmain">
                                                <div class="titwx" style="height: 23px;">
                                                    发表评论：
                                                </div>
                                                <textarea name="SendRefTB" id="SendRefTB" style="width: 100%; height: 75px; border: 1px solid #e7e7e7; background-color: #fff; overflow: auto; font-size: 12px;"
                                                    onfocus="testContent(1);" onblur="testContent(2)"></textarea>
                                                <div style="text-align: right; padding-right: 3px; padding-top: 6px;">
                                                    <div class="huifubt">
                                                        <a id="ImgSendPL" href="javascript:void(0);"></a>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </td>
                    <td align="center" valign="top" width="18px"></td>
                    <td align="left" valign="top" width="252px">
                        


<div style='height: 98px' id="artrightad1">
 
</div>


    <div class="remenwz" style="height:219px;"><div class="rementop"><div class="titwx" style=" padding-top:10px; padding-left:24px;">最新文章</div></div><div class="modlist3 list" style=" padding-left:15px;"><ul><li><span><a href=http://www.360doc.com/content/14/0525/08/13084517_380649582.shtml target=_blank onclick='wzhitnew(51)'>SNMP 原理与实战详解</a></span></li><li><span><a href=http://www.360doc.com/content/14/0518/22/13084517_378873784.shtml target=_blank onclick='wzhitnew(51)'>Squid 启动/停止/重载配置...</a></span></li><li><span><a href=http://www.360doc.com/content/14/0518/22/13084517_378873378.shtml target=_blank onclick='wzhitnew(51)'>通过cachemgr.cgi以web方式查看...</a></span></li><li><span><a href=http://www.360doc.com/content/14/0516/14/13084517_378230007.shtml target=_blank onclick='wzhitnew(51)'>GDI+学习笔记之GDI+环境初始化</a></span></li><li><span><a href=http://www.360doc.com/content/14/0516/14/13084517_378229801.shtml target=_blank onclick='wzhitnew(51)'>GDI+无闪烁绘图</a></span></li><li><span><a href=http://www.360doc.com/content/14/0516/14/13084517_378229356.shtml target=_blank onclick='wzhitnew(51)'>GDI GDI+ 双缓冲解决闪烁</a></span></li></ul> <div class=" rt360" style=" padding-right:23px;"><a href="http://www.360doc.com/userhome/13084517" target="_blank" onclick="wzhitnew(52);">更多</a></div></div></div>


<div class="both" style="padding-top: 10px; height: 260px;">
   <iframe id="ifartad1" height="250px" width="250px" frameborder="0" scrolling="no"></iframe>
    <div style="height: 10px;">
    </div>
</div>

<div class="remenwz">
    <div class="rementop">
        <div class="titwx" style="padding-top: 10px; padding-left: 24px;">
            热门文章</div>
    </div>
    <div class="modlist3 list" style="padding-left: 15px;">
        <ul>
            
                    <li><span>
                        <a href=http://www.360doc.com/content/14/0417/21/404692_369868788.shtml target=_blank onclick='wzhitnew(55)'>手机提示SD卡已损坏怎么办？无...</a></span></li>
                
                    <li><span>
                        <a href=http://www.360doc.com/content/14/0219/14/502486_353812832.shtml target=_blank onclick='wzhitnew(55)'>历史书上看不到的东西</a></span></li>
                
                    <li><span>
                        <a href=http://www.360doc.com/content/13/1128/21/14507858_333026273.shtml target=_blank onclick='wzhitnew(55)'>乾隆为何重用和绅</a></span></li>
                
                    <li><span>
                        <a href=http://www.360doc.com/content/13/1215/21/12959198_337440766.shtml target=_blank onclick='wzhitnew(55)'>巧用光盘增强无线路由器信号</a></span></li>
                
                    <li><span>
                        <a href=http://www.360doc.com/content/13/1026/14/23665_324325059.shtml target=_blank onclick='wzhitnew(55)'>微信做到马云做不到的事？现在...</a></span></li>
                
                    <li><span>
                        <a href=http://www.360doc.com/content/14/0306/08/1449037_358108905.shtml target=_blank onclick='wzhitnew(55)'>富人不说默默在做的事</a></span></li>
                
                    <li><span>
                        <a href=http://www.360doc.com/content/14/0123/23/202378_347463498.shtml target=_blank onclick='wzhitnew(55)'>水浒传中的排名详尽分析——黑...</a></span></li>
                
                    <li><span>
                        <a href=http://www.360doc.com/content/14/0127/22/1542087_348427740.shtml target=_blank onclick='wzhitnew(55)'>初中物理必知重点难点分析</a></span></li>
                
                    <li><span>
                        <a href=http://www.360doc.com/content/14/0115/19/156610_345533677.shtml target=_blank onclick='wzhitnew(55)'>看看，这就是中国男人啊！！！</a></span></li>
                
                    <li><span>
                        <a href=http://www.360doc.com/content/14/0414/14/9121025_368792933.shtml target=_blank onclick='wzhitnew(55)'>【你真的知道汉字里国人不知的...</a></span></li>
                
                    <li><span>
                        <a href=http://www.360doc.com/content/14/0411/19/276037_368106279.shtml target=_blank onclick='wzhitnew(55)'>《中国的百句千年遗训》（上）</a></span></li>
                
                    <li><span>
                        <a href=http://www.360doc.com/content/13/1222/10/14485302_339194528.shtml target=_blank onclick='wzhitnew(55)'>如何对待不写作业的懒学生</a></span></li>
                
        </ul>
        <div class=" rt360" style="padding-right: 23px;">
            <a href="http://www.360doc.com/readroom.html" target="_blank" onclick='wzhitnew(56)'>更多>></a></div>
    </div>
</div>

<div class="both" style="padding-top: 10px;">
    <iframe id="ifartad2" height="250px" width="250px" frameborder="0" scrolling="no"></iframe>
</div>
<br />

<script type="text/javascript">
    var sogou_ad_id = 261623;
    var sogou_ad_height = 328;
    var sogou_ad_width = 250;
</script>
<script language='JavaScript' type='text/javascript' src='http://images.sohu.com/cs/jsfile/js/c.js'></script>
<script>
    function change(pro_name, i) {
        var pro = document.getElementById(pro_name); 
        var pro_arr = pro.getElementsByTagName("span");

        for (var m = 0; m < pro_arr.length; m++) {
            pro_arr[m].className = "unclecked link_black";
        }
        pro_arr[i].className = "checked link_bai";

        if (i == 1) {
            document.getElementById("qh_ul_1").style.display = "";
            document.getElementById("qh_ul_0").style.display = "none";
        }
        else if (i == 0) {
            document.getElementById("qh_ul_1").style.display = "none";
            document.getElementById("qh_ul_0").style.display = "";
        }
    }
</script>

                        <div class="both" id="divad5" style="padding-top: 11px; zoom: 1;">
                            <div id="divad4" style="display: none;">
                                <div>
                                    <iframe id="ifartad" height="250px" width="250px" frameborder="0" scrolling="no"></iframe>
                                </div>
                                <div class="ggwz">
                                    <a href="javascript:void(0);" onclick="closead(2);">关闭</a>
                                </div>
                                <div style="height: 13px;">
                                </div>
                            </div>
                            <div style="clear: both; display: none;" id="divad6">
                                <div>
                                    <script type="text/javascript">
                                        /*文章页右下滚屏200*200，创建于2013-7-22*/
                                        var cpro_id = "u1324965";
                                    </script>
                                    <script src="http://cpro.baidustatic.com/cpro/ui/c.js" type="text/javascript"></script>
                                </div>
                                <div class="ggwz">
                                    <a href="javascript:void(0);" onclick="closead(3);">关闭</a>
                                </div>
                                <div style="height: 13px;">
                                </div>
                            </div>

                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    <script language="javascript" type="text/javascript">
        var appName = navigator.appName.toLowerCase();
        if (appName.indexOf("microsoft internet explorer") > -1) {
            document.write("<scr" + "ipt type='text/javascript' src='http://www.360doc.com/js/StickySystemIE20130911.js?t=2014051401'></sc" + "ript>");
        }
        else {
            document.write("<scr" + "ipt type='text/javascript' src='http://www.360doc.com/js/StickySystemOther20130911.js?t=2014051401'></sc" + "ript>");


        }
    </script>

    <script>GerLookingUserInfo(1,13084517,1,0,'-1',-1,10,0);OutputSource('http%3a%2f%2fblog.csdn.net%2fpkueecser%2farticle%2fdetails%2f7367641');OutputCategory(13084517,37,'%e3%80%8aH264%e3%80%8b');OutputLastNextArt('slice+header','http://www.360doc.com/content/13/0927/17/13084517_317495922.shtml',0);OutputLastNextArt('H264%e5%8f%82%e6%95%b0%e8%af%ad%e6%b3%95%e6%96%87%e6%a1%a3%ef%bc%9a+SPS%e3%80%81PPS%e3%80%81IDR','http://www.360doc.com/content/13/1025/14/13084517_324106386.shtml',1);</script>
    <script type="text/javascript">
        var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
        document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3Fd86954201130d615136257dde062a503' type='text/javascript'%3E%3C/script%3E"));
    </script>

    <script type="text/javascript" id="bdshare_js" data="type=tools&amp;uid=6857724" src="http://bdimg.share.baidu.com/static/js/bds_s_v2.js?cdnversion=384393"></script>

    <script type="text/javascript">
        document.getElementById("bdshell_js").src = "http://bdimg.share.baidu.com/static/js/shell_v2.js?cdnversion=" + Math.ceil(new Date() / 3600000);
    </script>
    <!-- Baidu Button END -->
    <script src="http://bdimg.share.baidu.com/static/js/logger.js?cdnversion=384393"></script>


</body>
</html>
