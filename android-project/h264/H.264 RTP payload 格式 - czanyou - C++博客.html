<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head id="Head"><title>
	H.264 RTP payload 格式 - czanyou - C++博客
</title><meta http-equiv="Content-Type" content="text/html; charset=utf-8" /><meta id="metaKeywords" name="keywords" content="H.264 RTP payload 格式" /><link type="text/css" rel="stylesheet" href="/css/common.css" /><link id="MainCss" type="text/css" rel="stylesheet" href="http://www.cppblog.com/Skins/MTGABlue/style.css" /><link id="RSSLink" title="RSS" type="application/rss+xml" rel="alternate" href="http://www.cppblog.com/czanyou/rss.aspx" /></head>
<body>
    <form name="Form1" method="post" action="67940.html" onsubmit="javascript:return WebForm_OnSubmit();" id="Form1">
<div>
<input type="hidden" name="__EVENTTARGET" id="__EVENTTARGET" value="" />
<input type="hidden" name="__EVENTARGUMENT" id="__EVENTARGUMENT" value="" />
<input type="hidden" name="__VIEWSTATE" id="
__VIEWSTATE" value="" />
</div>

<script type="text/javascript">
//<![CDATA[
var theForm = document.forms['Form1'];
if (!theForm) {
    theForm = document.Form1;
}
function __doPostBack(eventTarget, eventArgument) {
    if (!theForm.onsubmit || (theForm.onsubmit() != false)) {
        theForm.__EVENTTARGET.value = eventTarget;
        theForm.__EVENTARGUMENT.value = eventArgument;
        theForm.submit();
    }
}
//]]>
</script>


<script src="/WebResource.axd?d=hCqqcDq62xC48aLO1-oizzph91mftTcpBQYAMmX9y1_MEKckib0uai68YudFFqahbIRj8ZaZB19FpMr30&amp;t=635084321457020723" type="text/javascript"></script>

<script language=JavaScript>
									function ctlent(evt,id)
											{
												if(evt.ctrlKey && evt.keyCode == 13)
												{	
													try
													{
														TempSave(id);
													}
													catch(ex)
													{
													}
													finally
													{
													    __doPostBack('AjaxHolder$PostComment$btnSubmit','')
													}
												}
		
												}</script>
												<script language=JavaScript>function SetReplyAuhor(author){document.getElementById('AjaxHolder_PostComment_tbComment').value+="@"+author+"\n";document.getElementById('AjaxHolder_PostComment_tbComment').focus();return false}</script>
<script src="/ScriptResource.axd?d=TB76SHHPXs0c-M9_tGhAxuTARlsiSpe5Dn70CMDyMu0Be8A_MPH2Z7oqJoDwyxmBxB28VcgK9C-XqFdMNI_DuigegyGH79krj7asDjvAKLqzs7DlCIm2xb4oSA4lM05RrYsRw4Ulp-jfriIG0&amp;t=635084321457020723" type="text/javascript"></script>
<script src="/ScriptResource.axd?d=-BecoVNwDVCZ4TW3gB_ZzPWfgjCQ_C64O4hNc3pweA4UGq0B-lWFnUMMAtqURN0AZF_f7fxk9s5U1gsq0foUhwHdXezBbn_OgCN5EL300MOu7Jb-c7WU_a2OCK01&amp;t=634979452452373750" type="text/javascript"></script>
<script src="/ScriptResource.axd?d=4npu1eCN6HUVuTPPO5YDuuBNC2hrBvTsGEVYQhhAo9CX_hfoT2Mz1UGnoo5C32pPXZvBizBLMnY0_szRgrGRkyv7-BsG0CvEejE8Vl3Xt8nd-D_58kXSDmaBFOFFj7w3EMKivQ2&amp;t=634979452452373750" type="text/javascript"></script>
<script type="text/javascript">
//<![CDATA[
function WebForm_OnSubmit() {
if (typeof(ValidatorOnSubmit) == "function" && ValidatorOnSubmit() == false) return false;
return true;
}
//]]>
</script>

        

<div id="top">

<h1><a id="Header1_HeaderTitle" class="headermaintitle" href="http://www.cppblog.com/czanyou/">czanyou</a></h1>
<p id="tagline"></p>
</div>
<div id="rightmenu" style="display:none">

	
<h3>My Links</h3>
<ul>
			<li><a id="MyLinks1_HomeLink" href="http://www.cppblog.com/">C++博客</a></li>
			<li><a id="MyLinks1_MyHomeLink" href="http://www.cppblog.com/czanyou/">首页</a></li>
			<li><a id="MyLinks1_NewPostLink" href="http://www.cppblog.com/czanyou/admin/EditPosts.aspx?opt=1">新随笔</a></li>
			<li><a id="MyLinks1_ContactLink" accesskey="9" href="http://www.cppblog.com/czanyou/contact.aspx?id=1">联系</a></li>
			<li><a id="MyLinks1_Syndication" href="http://www.cppblog.com/czanyou/Rss.aspx">聚合</a> <a id="MyLinks1_XMLLink" href="http://www.cppblog.com/czanyou/Rss.aspx"><img src="http://www.cppblog.com/images/xml.gif" style="border-width:0px;" /></a>
			<li><a id="MyLinks1_Admin" href="http://www.cppblog.com/czanyou/admin/EditPosts.aspx">管理</a></li>
</ul>
	
<h3>Blog Stats</h3>
	<ul>
		<li>Posts - 5
		<li>Stories - 0
		<li>Comments - 22
		<li>Trackbacks - 0
	</li>
</ul>
	
	
<h3>常用链接</h3>
<ul>
		<li><a id="SingleColumn1_ctl00_repeaterLinks_ctl01_lnkLinkItem" href="http://www.cppblog.com/czanyou/MyPosts.html">我的随笔</a></li>
	
		<li><a id="SingleColumn1_ctl00_repeaterLinks_ctl02_lnkLinkItem" href="http://www.cppblog.com/czanyou/MyComments.html">我的评论</a></li>
	
		<li><a id="SingleColumn1_ctl00_repeaterLinks_ctl03_lnkLinkItem" href="http://www.cppblog.com/czanyou/OtherPosts.html">我参与的随笔</a></li>
	</ul>
<H3>留言簿<span style="font-size:11px;font-weight:normal;">(6)</span></H3>
<ul>
	<li>
		<a id="SingleColumn1__14652a_lnkMessages" href="http://www.cppblog.com/czanyou/Contact.aspx?id=1">给我留言</a>
	<li>
		<a id="SingleColumn1__14652a_lnkPublicMsgView" href="http://www.cppblog.com/czanyou/default.aspx?opt=msg">查看公开留言</a>
	<li>
		<a id="SingleColumn1__14652a_lnkPrivateMsgView" href="http://www.cppblog.com/czanyou/admin/MyMessages.aspx">查看私人留言</a>
	</li>
</ul>

		<h3>随笔档案</h3>
		
				<ul>
			
				<li><a id="SingleColumn1_Categories_CatList_ctl00_LinkList_ctl01_Link" href="http://www.cppblog.com/czanyou/archive/2011/09.html">2011年9月 (4)</a> </li>
			
				<li><a id="SingleColumn1_Categories_CatList_ctl00_LinkList_ctl02_Link" href="http://www.cppblog.com/czanyou/archive/2008/11.html">2008年11月 (1)</a> </li>
			
				</ul>
			
	

<script language="JavaScript">
function SearchGoogle(key,evt,site)
		{
			if(evt.keyCode==13 || evt.keyCode==0 || evt.type =='click')
			{
				key.focus();
				var keystr = encodeURIComponent(key.value);
				url = "http://www.google.com/search?q=";
				url = url+keystr;
				url += "&ie=UTF-8&oe=GB2312&hl=zh-CN&domains="+site+"&sitesearch="+site;
				window.location=url;
				return false;
			}
		}
</script>
<H3>搜索</H3>
<ul>
	<li>
		<li><input style="WIDTH: 130px" type="text" name="q" id="q" onkeydown="return SearchGoogle(document.getElementById('q'),event,'www.cppblog.com/czanyou')">&nbsp;<input onclick="SearchGoogle(document.getElementById('q'),event,'www.cppblog.com/czanyou')" type="button" value="搜索" name="sa">
	</li>
</ul>

<h3>最新评论
	<a id="SingleColumn1__107aa0e_RSSHyperlink1" href="http://www.cppblog.com/czanyou/CommentsRSS.aspx"><img src="/images/xml.gif" style="border-width:0px;" /></a></h3>
<div class="RecentComment">
	
			<ul>
		
			<li style="word-break:break-all">
				<a id="SingleColumn1__107aa0e_CommentList_ctl01_Hyperlink1" href="http://www.cppblog.com/czanyou/archive/2013/03/08/67940.html#198289">1. re: H.264 RTP payload 格式</a>
			</li>
			<li style="word-break:break-all">
				这篇牛！！！！<br>贼清楚啦~~~
			</li>
			<li style="text-align:right;margin-right:4px">
				--kaly_liu</li>
		
			<li style="word-break:break-all">
				<a id="SingleColumn1__107aa0e_CommentList_ctl02_Hyperlink1" href="http://www.cppblog.com/czanyou/archive/2013/02/25/67940.html#198064">2. re: H.264 RTP payload 格式</a>
			</li>
			<li style="word-break:break-all">
				没有看到source code，能share下吗？
			</li>
			<li style="text-align:right;margin-right:4px">
				--hiber</li>
		
			<li style="word-break:break-all">
				<a id="SingleColumn1__107aa0e_CommentList_ctl03_Hyperlink1" href="http://www.cppblog.com/czanyou/archive/2013/01/29/155423.html#197620">3. re: 如何在 iPhone 下面生成 H.264 TS 流实现  HTTP live streaming  开发记录 (1)</a>
			</li>
			<li style="word-break:break-all">
				0.0
			</li>
			<li style="text-align:right;margin-right:4px">
				--elel</li>
		
			<li style="word-break:break-all">
				<a id="SingleColumn1__107aa0e_CommentList_ctl04_Hyperlink1" href="http://www.cppblog.com/czanyou/archive/2012/08/09/155419.html#186717">4. re: 如何在 iPhone 下面用 ffmpeg 播放 H.264 流开发记录 (1)</a>
			</li>
			<li style="word-break:break-all">
				评论内容较长,点击标题查看
			</li>
			<li style="text-align:right;margin-right:4px">
				--hong</li>
		
			<li style="word-break:break-all">
				<a id="SingleColumn1__107aa0e_CommentList_ctl05_Hyperlink1" href="http://www.cppblog.com/czanyou/archive/2012/07/05/67940.html#181448">5. re: H.264 RTP payload 格式</a>
			</li>
			<li style="word-break:break-all">
				肯定是MIN啊<br>@sc<br>
			</li>
			<li style="text-align:right;margin-right:4px">
				--童爱玲</li>
		
			</ul>
		
</div>

<h3>阅读排行榜</h3>
<div class="RecentComment">
	
			<ul style="word-break:break-all">
		
			<li>
				<a id="SingleColumn1__69c80b_TopList_ctl01_Hyperlink1" href="http://www.cppblog.com/czanyou/archive/2008/11/26/67940.aspx">1. H.264 RTP payload 格式(32418)</a>
			</li>
		
			<li>
				<a id="SingleColumn1__69c80b_TopList_ctl02_Hyperlink1" href="http://www.cppblog.com/czanyou/archive/2011/09/09/155419.aspx">2. 如何在 iPhone 下面用 ffmpeg 播放 H.264 流开发记录 (1)(2962)</a>
			</li>
		
			<li>
				<a id="SingleColumn1__69c80b_TopList_ctl03_Hyperlink1" href="http://www.cppblog.com/czanyou/archive/2011/09/09/155421.aspx">3. 如何在 iPhone 下面用 ffmpeg 解码 H.264 流 (2) (2328)</a>
			</li>
		
			<li>
				<a id="SingleColumn1__69c80b_TopList_ctl04_Hyperlink1" href="http://www.cppblog.com/czanyou/archive/2011/09/09/155422.aspx">4. 如何在 iPhone 下面用 OpenGL ES 显示视频开发记录 (3)(847)</a>
			</li>
		
			<li>
				<a id="SingleColumn1__69c80b_TopList_ctl05_Hyperlink1" href="http://www.cppblog.com/czanyou/archive/2011/09/09/155423.aspx">5. 如何在 iPhone 下面生成 H.264 TS 流实现  HTTP live streaming  开发记录 (1)(723)</a>
			</li>
		
			</ul>
		
</div>

<h3>评论排行榜</h3>
<div class="RecentComment">
	
			<ul style="word-break:break-all">
		
			<li>
				<a id="SingleColumn1__73632c_TopList_ctl01_Hyperlink1" href="http://www.cppblog.com/czanyou/archive/2008/11/26/67940.aspx">1. H.264 RTP payload 格式(17)</a>
			</li>
		
			<li>
				<a id="SingleColumn1__73632c_TopList_ctl02_Hyperlink1" href="http://www.cppblog.com/czanyou/archive/2011/09/09/155421.aspx">2. 如何在 iPhone 下面用 ffmpeg 解码 H.264 流 (2) (2)</a>
			</li>
		
			<li>
				<a id="SingleColumn1__73632c_TopList_ctl03_Hyperlink1" href="http://www.cppblog.com/czanyou/archive/2011/09/09/155419.aspx">3. 如何在 iPhone 下面用 ffmpeg 播放 H.264 流开发记录 (1)(2)</a>
			</li>
		
			<li>
				<a id="SingleColumn1__73632c_TopList_ctl04_Hyperlink1" href="http://www.cppblog.com/czanyou/archive/2011/09/09/155423.aspx">4. 如何在 iPhone 下面生成 H.264 TS 流实现  HTTP live streaming  开发记录 (1)(1)</a>
			</li>
		
			<li>
				<a id="SingleColumn1__73632c_TopList_ctl05_Hyperlink1" href="http://www.cppblog.com/czanyou/archive/2011/09/09/155422.aspx">5. 如何在 iPhone 下面用 OpenGL ES 显示视频开发记录 (3)(0)</a>
			</li>
		
			</ul>
		
</div>


</div>

<div id="main">
	
					
	<div class="post">
		<h2>
			<a id="viewpost1_TitleUrl" href="http://www.cppblog.com/czanyou/archive/2008/11/26/67940.html">H.264 RTP payload 格式</a>
		</h2>
		<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt"><br>H.264 视频 RTP 负载格式</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">1. 网络抽象层单元类型 (NALU)</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">NALU 头由一个字节组成, 它的语法如下:</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +---------------+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |0|1|2|3|4|5|6|7|<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-+-+-+-+-+-+-+-+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |F|NRI|&nbsp; Type&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +---------------+</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">F: 1 个比特.<br>&nbsp; forbidden_zero_bit. 在 H.264 规范中规定了这一位必须为 0.</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">NRI: 2 个比特.<br>&nbsp; nal_ref_idc. 取 00 ~ 11, 似乎指示这个 NALU 的重要性, 如 00 的 NALU 解码器可以丢弃它而不影响图像的回放. 不过一般情况下不太关心</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">这个属性.</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">Type: 5 个比特.<br>&nbsp; nal_unit_type. 这个 NALU 单元的类型. 简述如下:</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp; 没有定义<br>&nbsp; 1-23&nbsp; NAL单元&nbsp; 单个 NAL 单元包.<br>&nbsp; 24&nbsp;&nbsp;&nbsp; STAP-A&nbsp;&nbsp; 单一时间的组合包<br>&nbsp; 25&nbsp;&nbsp;&nbsp; STAP-B&nbsp;&nbsp; 单一时间的组合包<br>&nbsp; 26&nbsp;&nbsp;&nbsp; MTAP16&nbsp;&nbsp; 多个时间的组合包<br>&nbsp; 27&nbsp;&nbsp;&nbsp; MTAP24&nbsp;&nbsp; 多个时间的组合包<br>&nbsp; 28&nbsp;&nbsp;&nbsp; FU-A&nbsp;&nbsp;&nbsp;&nbsp; 分片的单元<br>&nbsp; 29&nbsp;&nbsp;&nbsp; FU-B&nbsp;&nbsp;&nbsp;&nbsp; 分片的单元<br>&nbsp; 30-31 没有定义</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">2. 打包模式</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">&nbsp; 下面是 RFC 3550 中规定的 RTP 头的结构.</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |V=2|P|X|&nbsp; CC&nbsp;&nbsp; |M|&nbsp;&nbsp;&nbsp;&nbsp; PT&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; sequence number&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; timestamp&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; synchronization source (SSRC) identifier&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+=+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; contributing source (CSRC) identifiers&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ....&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">&nbsp; 负载类型 Payload type (PT): 7 bits<br>&nbsp; 序列号 Sequence number (SN): 16 bits<br>&nbsp; 时间戳 Timestamp: 32 bits<br>&nbsp; <br>&nbsp; H.264 Payload 格式定义了三种不同的基本的负载(Payload)结构. 接收端可能通过 RTP Payload <br>&nbsp; 的第一个字节来识别它们. 这一个字节类似 NALU 头的格式, 而这个头结构的 NAL 单元类型字段<br>&nbsp; 则指出了代表的是哪一种结构, </p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">&nbsp; 这个字节的结构如下, 可以看出它和 H.264 的 NALU 头结构是一样的.<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +---------------+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |0|1|2|3|4|5|6|7|<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-+-+-+-+-+-+-+-+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |F|NRI|&nbsp; Type&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +---------------+<br>&nbsp; 字段 Type: 这个 RTP payload 中 NAL 单元的类型. 这个字段和 H.264 中类型字段的区别是, 当 type<br>&nbsp; 的值为 24 ~ 31 表示这是一个特别格式的 NAL 单元, 而 H.264 中, 只取 1~23 是有效的值.<br>&nbsp;&nbsp; <br>&nbsp; 24&nbsp;&nbsp;&nbsp; STAP-A&nbsp;&nbsp; 单一时间的组合包<br>&nbsp; 25 &nbsp;&nbsp; STAP-B&nbsp;&nbsp; 单一时间的组合包<br>&nbsp; 26&nbsp;&nbsp;&nbsp; MTAP16&nbsp;&nbsp; 多个时间的组合包<br>&nbsp; 27&nbsp;&nbsp;&nbsp; MTAP24&nbsp;&nbsp; 多个时间的组合包<br>&nbsp; 28&nbsp;&nbsp;&nbsp; FU-A&nbsp;&nbsp;&nbsp;&nbsp; 分片的单元<br>&nbsp; 29&nbsp;&nbsp;&nbsp; FU-B&nbsp;&nbsp;&nbsp;&nbsp; 分片的单元<br>&nbsp; 30-31 没有定义</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">&nbsp; 可能的结构类型分别有:</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">&nbsp; 1. 单一 NAL 单元模式<br>&nbsp;&nbsp;&nbsp;&nbsp; 即一个 RTP 包仅由一个完整的 NALU 组成. 这种情况下 RTP NAL 头类型字段和原始的 H.264的<br>&nbsp; NALU 头类型字段是一样的.</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">&nbsp; 2. 组合封包模式<br>&nbsp;&nbsp;&nbsp; 即可能是由多个 NAL 单元组成一个 RTP 包. 分别有4种组合方式: STAP-A, STAP-B, MTAP16, MTAP24.<br>&nbsp; 那么这里的类型值分别是 24, 25, 26 以及 27.</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">&nbsp; 3. 分片封包模式<br>&nbsp;&nbsp;&nbsp; 用于把一个 NALU 单元封装成多个 RTP 包. 存在两种类型 FU-A 和 FU-B. 类型值分别是 28 和 29.</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">2.1 单一 NAL 单元模式</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">&nbsp; 对于 NALU 的长度小于 MTU 大小的包, 一般采用单一 NAL 单元模式.<br>&nbsp; 对于一个原始的 H.264 NALU 单元常由 [Start Code] [NALU Header] [NALU Payload] 三部分组成, 其中 Start Code 用于标示这是一个 </p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">NALU 单元的开始, 必须是 "00 00 00 01" 或 "00 00 01", NALU 头仅一个字节, 其后都是 NALU 单元内容.<br>&nbsp; 打包时去除 "00 00 01" 或 "00 00 00 01" 的开始码, 把其他数据封包的 RTP 包即可.</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |F|NRI|&nbsp; type&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-+-+-+-+-+-+-+-+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Bytes 2..n of a Single NAL unit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :...OPTIONAL RTP padding&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt"><br>&nbsp; 如有一个 H.264 的 NALU 是这样的:</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">&nbsp; [00 00 00 01 67 42 A0 1E 23 56 0E 2F ... ]</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">&nbsp; 这是一个序列参数集 NAL 单元. [00 00 00 01] 是四个字节的开始码, 67 是 NALU 头, 42 开始的数据是 NALU 内容.</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">&nbsp; 封装成 RTP 包将如下:</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">&nbsp; [ RTP Header ] [ 67 42 A0 1E 23 56 0E 2F ]</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">&nbsp; 即只要去掉 4 个字节的开始码就可以了.</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt"><br>2.2 组合封包模式</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">&nbsp; 其次, 当 NALU 的长度特别小时, 可以把几个 NALU 单元封在一个 RTP 包中.</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; RTP Header&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |STAP-A NAL HDR |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NALU 1 Size&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | NALU 1 HDR&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NALU 1 Data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | NALU 2 Size&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | NALU 2 HDR&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; NALU 2 Data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :...OPTIONAL RTP padding&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt"><br>2.3 Fragmentation Units (FUs).</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">&nbsp; 而当 NALU 的长度超过 MTU 时, 就必须对 NALU 单元进行分片封包. 也称为 Fragmentation Units (FUs).<br>&nbsp; <br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 1&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 2&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 3<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1 2 3 4 5 6 7 8 9 0 1<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; | FU indicator&nbsp; |&nbsp;&nbsp; FU header&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; FU payload&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; :...OPTIONAL RTP padding&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+-+</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Figure 14.&nbsp; RTP payload format for FU-A</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">&nbsp;&nbsp; The FU indicator octet has the following format:</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +---------------+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |0|1|2|3|4|5|6|7|<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-+-+-+-+-+-+-+-+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |F|NRI|&nbsp; Type&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +---------------+</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">&nbsp;&nbsp; The FU header has the following format:</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +---------------+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |0|1|2|3|4|5|6|7|<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +-+-+-+-+-+-+-+-+<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; |S|E|R|&nbsp; Type&nbsp;&nbsp; |<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; +---------------+</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt"><br>3. SDP 参数</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">&nbsp; 下面描述了如何在 SDP 中表示一个 H.264 流:</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">&nbsp; . "m=" 行中的媒体名必须是 "video"<br>&nbsp; . "a=rtpmap" 行中的编码名称必须是 "H264".<br>&nbsp; . "a=rtpmap" 行中的时钟频率必须是 90000.<br>&nbsp; . 其他参数都包括在 "a=fmtp" 行中.</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">&nbsp; 如:</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">&nbsp; m=video 49170 RTP/AVP 98<br>&nbsp; a=rtpmap:98 H264/90000<br>&nbsp; a=fmtp:98 profile-level-id=42A01E; sprop-parameter-sets=Z0IACpZTBYmI,aMljiA==</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">&nbsp; 下面介绍一些常用的参数.</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">3.1 packetization-mode:<br>&nbsp; 表示支持的封包模式. <br>&nbsp; 当 packetization-mode 的值为 0 时或不存在时, 必须使用单一 NALU 单元模式.<br>&nbsp; 当 packetization-mode 的值为 1 时必须使用非交错(non-interleaved)封包模式.<br>&nbsp; 当 packetization-mode 的值为 2 时必须使用交错(interleaved)封包模式.<br>&nbsp; 这个参数不可以取其他的值.</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">3.2 sprop-parameter-sets:<br>&nbsp; 这个参数可以用于传输 H.264 的序列参数集和图像参数 NAL 单元. 这个参数的值采用 Base64 进行编码. 不同的参数集间用","号隔开.<br>&nbsp; <br>3.3 profile-level-id:<br>&nbsp; 这个参数用于指示 H.264 流的 profile 类型和级别. 由 Base16(十六进制) 表示的 3 个字节. 第一个字节表示 H.264 的 Profile 类型, 第</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">三个字节表示 H.264 的 Profile 级别:<br>&nbsp; <br>3.4 max-mbps:<br>&nbsp; 这个参数的值是一个整型, 指出了每一秒最大的宏块处理速度.</p>
<p style="FONT-FAMILY: courier new; FONT-SIZE: 10pt">&nbsp; <br></p>

		<p class="postfoot">
			posted on 2008-11-26 23:39 <a href='http://www.cppblog.com/czanyou/'>暗黑长老</a> 阅读(32418) <a href='#Post'>评论(17)</a> &nbsp;<a href="http://www.cppblog.com/czanyou/admin/EditPosts.aspx?postid=67940">编辑</a>&nbsp;<a href="http://www.cppblog.com/czanyou/AddToFavorite.aspx?id=67940">收藏</a> <a href='http://www.cppblog.com/czanyou/services/trackbacks/67940.aspx'>引用</a>  
		</p>
	</div>
	<img src ="http://www.cppblog.com/czanyou/aggbug/67940.html?webview=1" width = "1" height = "1" />
	
<!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
xmlns:dc="http://purl.org/dc/elements/1.1/"
xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
<rdf:Description
rdf:about="http://www.cppblog.com/czanyou/archive/2008/11/26/67940.html"
dc:identifier="http://www.cppblog.com/czanyou/archive/2008/11/26/67940.html"
dc:title="H.264 RTP payload 格式"
trackback:ping="http://www.cppblog.com/czanyou/services/trackbacks/67940.aspx" />
</rdf:RDF>
-->

<script type="text/javascript">
//<![CDATA[
Sys.WebForms.PageRequestManager._initialize('AjaxHolder$scriptmanager1', document.getElementById('Form1'));
Sys.WebForms.PageRequestManager.getInstance()._updateControls(['tAjaxHolder$UpdatePanel1'], [], [], 90);
//]]>
</script>

<div id="AjaxHolder_UpdatePanel1">
	    
    <a name="pagedcomment"></a>

<div id="comments">
<h3>Feedback</h3>
	<font color="#999966" size="2"></font>
	
			<h4>
				<a title="permalink: re: H.264 RTP payload 格式" href="/czanyou/archive/2009/12/25/67940.html#104071">#</a>&nbsp;<a name="104071"></a>re: H.264 RTP payload 格式
					<span>
						2009-12-25 17:17
					</span>
				<a id="AjaxHolder_Comments_CommentList_ctl00_NameLink" target="_blank">heshui</a>
			</h4>
			<p>
				辛苦啦。<br>在组合封包时，NALU 1 Size前面没有提到，它是属于NALU payload吧。也就是说h264的 NALU payload = NALU payload size + NALU payload header + NALU payload data，对吧。如果我的理解不对，请指正，谢谢。&nbsp;&nbsp;<a onclick="return SetReplyAuhor(&quot;heshui&quot;)" href="/czanyou/archive/2009/12/25/67940.html#post">回复</a>&nbsp;&nbsp;<a title="查看该作者发表过的评论" href="http://www.cppblog.com/comment?author=heshui" target="_blank">更多评论</a>
				<a id="AjaxHolder_Comments_CommentList_ctl00_DeleteLink" href="javascript:__doPostBack('AjaxHolder$Comments$CommentList$ctl00$DeleteLink','')"></a>&nbsp;&nbsp;<a id="AjaxHolder_Comments_CommentList_ctl00_EditLink"></a>			
			</p>
		
			<h4>
				<a title="permalink: re: H.264 RTP payload 格式" href="/czanyou/archive/2009/12/25/67940.html#104359">#</a>&nbsp;<a name="104359"></a>re: H.264 RTP payload 格式
					<span>
						2009-12-29 13:20
					</span>
				<a id="AjaxHolder_Comments_CommentList_ctl01_NameLink" href="http://www.cppblog.com/czanyou/" target="_blank">暗黑长老</a>
			</h4>
			<p>
				@heshui<br><br>基本上是这样子的<br>如有一个 H.264 的 NALU 是这样的:<br><br>  [00 00 00 01 67 42 A0 1E 23 56 0E 2F ... ]<br>  [00 00 00 01 67 42 A0 1E 23 56 0E 2F ... ]<br><br>  这是一个序列参数集 NAL 单元. [00 00 00 01] 是四个字节的开始码, 67 是 NALU 头, 42 开始的数据是 NALU 内容.<br><br>  封装成 RTP 包可能如下:<br><br>  [ RTP Header ] [78, STAP-A NAL HDR, 一个字节 ] [长度, 两个字节] [ 67 42 A0 1E 23 56 0E 2F ...]  [长度, 两个字节] [ 67 42 A0 1E 23 56 0E 2F... ]<br><br><br>&nbsp;&nbsp;<a onclick="return SetReplyAuhor(&quot;暗黑长老&quot;)" href="/czanyou/archive/2009/12/25/67940.html#post">回复</a>&nbsp;&nbsp;<a title="查看该作者发表过的评论" href="http://www.cppblog.com/comment?author=%e6%9a%97%e9%bb%91%e9%95%bf%e8%80%81" target="_blank">更多评论</a>
				<a id="AjaxHolder_Comments_CommentList_ctl01_DeleteLink" href="javascript:__doPostBack('AjaxHolder$Comments$CommentList$ctl01$DeleteLink','')"></a>&nbsp;&nbsp;<a id="AjaxHolder_Comments_CommentList_ctl01_EditLink"></a>			
			</p>
		
			<h4>
				<a title="permalink: 请问分片封包的实际例子" href="/czanyou/archive/2009/12/25/67940.html#104740">#</a>&nbsp;<a name="104740"></a>请问分片封包的实际例子
					<span>
						2010-01-04 09:36
					</span>
				<a id="AjaxHolder_Comments_CommentList_ctl02_NameLink" target="_blank">heshui</a>
			</h4>
			<p>
				@暗黑长老<br>楼主能不能再给我一个分片封包的实际例子，就是说如果NALU 的长度超过 MTU 时RTP包格式应该是怎么样的呢。谢谢。&nbsp;&nbsp;<a onclick="return SetReplyAuhor(&quot;heshui&quot;)" href="/czanyou/archive/2009/12/25/67940.html#post">回复</a>&nbsp;&nbsp;<a title="查看该作者发表过的评论" href="http://www.cppblog.com/comment?author=heshui" target="_blank">更多评论</a>
				<a id="AjaxHolder_Comments_CommentList_ctl02_DeleteLink" href="javascript:__doPostBack('AjaxHolder$Comments$CommentList$ctl02$DeleteLink','')"></a>&nbsp;&nbsp;<a id="AjaxHolder_Comments_CommentList_ctl02_EditLink"></a>			
			</p>
		
			<h4>
				<a title="permalink: re: H.264 RTP payload 格式[未登录]" href="/czanyou/archive/2009/12/25/67940.html#104922">#</a>&nbsp;<a name="104922"></a>re: H.264 RTP payload 格式[未登录]
					<span>
						2010-01-06 15:14
					</span>
				<a id="AjaxHolder_Comments_CommentList_ctl03_NameLink" target="_blank">暗黑长老</a>
			</h4>
			<p>
				@heshui<br>/** 发送指定的 NALU 单元. */<br>int GEPlayback::SendNaluPacket( BYTE* sliceData, int sliceSize, BOOL isEnd, <br>								BOOL isVideo, int type, time_t pts, INT64 timestamp )<br>{<br>	// NALU 小于最大 RTP 包大小的情况<br>	if (sliceSize &lt; 1350) {<br>		return SendPacket(sliceData, sliceSize, isEnd, TRUE, type, pts, timestamp);<br>	}<br><br>	// 如果一个 NALU 大于最大的 RTP 包的大小, 则需要把它进行分片后打包发送<br>	BYTE buffer[1500];<br><br>	BYTE nalHeader = sliceData[0]; // NALU 头<br>	BYTE* data = sliceData + 1;<br>	int leftover = sliceSize - 1;<br>	BOOL isStart = TRUE;<br><br>	while (leftover &gt; 0) {<br>		int size = MIN(1350, leftover);<br>		isEnd = (size == leftover);<br><br>		// 构建 FU 头<br>		buffer[0] = (nalHeader &amp; 0x60) | 28;	// FU indicator<br>		buffer[1] = (nalHeader &amp; 0x1f);			// FU header<br>		if (isStart) {<br>			buffer[1] |= 0x80;<br>		}<br>		if (isEnd) {<br>			buffer[1] |= 0x40;<br>		}<br><br>		memcpy(buffer + 2, data, size);<br>		SendPacket(buffer, size + 2, isEnd, TRUE, type, pts, timestamp);<br><br>		leftover -= size;<br>		data += size;<br>		isStart = FALSE;<br>	}<br>	<br>	return sliceSize;<br>}<br>&nbsp;&nbsp;<a onclick="return SetReplyAuhor(&quot;暗黑长老&quot;)" href="/czanyou/archive/2009/12/25/67940.html#post">回复</a>&nbsp;&nbsp;<a title="查看该作者发表过的评论" href="http://www.cppblog.com/comment?author=%e6%9a%97%e9%bb%91%e9%95%bf%e8%80%81" target="_blank">更多评论</a>
				<a id="AjaxHolder_Comments_CommentList_ctl03_DeleteLink" href="javascript:__doPostBack('AjaxHolder$Comments$CommentList$ctl03$DeleteLink','')"></a>&nbsp;&nbsp;<a id="AjaxHolder_Comments_CommentList_ctl03_EditLink"></a>			
			</p>
		
			<h4>
				<a title="permalink: re: H.264 RTP payload 格式" href="/czanyou/archive/2009/12/25/67940.html#105256">#</a>&nbsp;<a name="105256"></a>re: H.264 RTP payload 格式
					<span>
						2010-01-09 17:27
					</span>
				<a id="AjaxHolder_Comments_CommentList_ctl04_NameLink" target="_blank">heshui</a>
			</h4>
			<p>
				前几天不小心把水泼到本本上，没能即时观注楼主的回复，换了块主板，嘿嘿。<br>代码很详细，看了例子很清淅。<br>谢谢楼主多次回复:)&nbsp;&nbsp;<a onclick="return SetReplyAuhor(&quot;heshui&quot;)" href="/czanyou/archive/2009/12/25/67940.html#post">回复</a>&nbsp;&nbsp;<a title="查看该作者发表过的评论" href="http://www.cppblog.com/comment?author=heshui" target="_blank">更多评论</a>
				<a id="AjaxHolder_Comments_CommentList_ctl04_DeleteLink" href="javascript:__doPostBack('AjaxHolder$Comments$CommentList$ctl04$DeleteLink','')"></a>&nbsp;&nbsp;<a id="AjaxHolder_Comments_CommentList_ctl04_EditLink"></a>			
			</p>
		
			<h4>
				<a title="permalink: re: H.264 RTP payload 格式" href="/czanyou/archive/2009/12/25/67940.html#106692">#</a>&nbsp;<a name="106692"></a>re: H.264 RTP payload 格式
					<span>
						2010-01-29 09:11
					</span>
				<a id="AjaxHolder_Comments_CommentList_ctl05_NameLink" href="http://sdf" target="_blank">asd</a>
			</h4>
			<p>
				hao&nbsp;&nbsp;<a onclick="return SetReplyAuhor(&quot;asd&quot;)" href="/czanyou/archive/2009/12/25/67940.html#post">回复</a>&nbsp;&nbsp;<a title="查看该作者发表过的评论" href="http://www.cppblog.com/comment?author=asd" target="_blank">更多评论</a>
				<a id="AjaxHolder_Comments_CommentList_ctl05_DeleteLink" href="javascript:__doPostBack('AjaxHolder$Comments$CommentList$ctl05$DeleteLink','')"></a>&nbsp;&nbsp;<a id="AjaxHolder_Comments_CommentList_ctl05_EditLink"></a>			
			</p>
		
			<h4>
				<a title="permalink: re: H.264 RTP payload 格式" href="/czanyou/archive/2009/12/25/67940.html#107573">#</a>&nbsp;<a name="107573"></a>re: H.264 RTP payload 格式
					<span>
						2010-02-09 10:49
					</span>
				<a id="AjaxHolder_Comments_CommentList_ctl06_NameLink" target="_blank">Marc</a>
			</h4>
			<p>
				找了好多篇<br>這篇最清楚<br>感謝&nbsp;&nbsp;<a onclick="return SetReplyAuhor(&quot;Marc&quot;)" href="/czanyou/archive/2009/12/25/67940.html#post">回复</a>&nbsp;&nbsp;<a title="查看该作者发表过的评论" href="http://www.cppblog.com/comment?author=Marc" target="_blank">更多评论</a>
				<a id="AjaxHolder_Comments_CommentList_ctl06_DeleteLink" href="javascript:__doPostBack('AjaxHolder$Comments$CommentList$ctl06$DeleteLink','')"></a>&nbsp;&nbsp;<a id="AjaxHolder_Comments_CommentList_ctl06_EditLink"></a>			
			</p>
		
			<h4>
				<a title="permalink: re: H.264 RTP payload 格式" href="/czanyou/archive/2009/12/25/67940.html#113554">#</a>&nbsp;<a name="113554"></a>re: H.264 RTP payload 格式
					<span>
						2010-04-26 08:32
					</span>
				<a id="AjaxHolder_Comments_CommentList_ctl07_NameLink" href="http://hi.baidu.com/armlinuxhouse" target="_blank">喃喃</a>
			</h4>
			<p>
				非常感谢你，正在研究流媒体，听老牛们说，学这个协议比较好。&nbsp;&nbsp;<a onclick="return SetReplyAuhor(&quot;喃喃&quot;)" href="/czanyou/archive/2009/12/25/67940.html#post">回复</a>&nbsp;&nbsp;<a title="查看该作者发表过的评论" href="http://www.cppblog.com/comment?author=%e5%96%83%e5%96%83" target="_blank">更多评论</a>
				<a id="AjaxHolder_Comments_CommentList_ctl07_DeleteLink" href="javascript:__doPostBack('AjaxHolder$Comments$CommentList$ctl07$DeleteLink','')"></a>&nbsp;&nbsp;<a id="AjaxHolder_Comments_CommentList_ctl07_EditLink"></a>			
			</p>
		
			<h4>
				<a title="permalink: re: H.264 RTP payload 格式" href="/czanyou/archive/2009/12/25/67940.html#119855">#</a>&nbsp;<a name="119855"></a>re: H.264 RTP payload 格式
					<span>
						2010-07-09 14:33
					</span>
				<a id="AjaxHolder_Comments_CommentList_ctl08_NameLink" target="_blank">winston</a>
			</h4>
			<p>
				你是在哪个城市的，方便留个电话什么的联系方式，我们这边有个流媒体相关的项目，寻求工程师合作开发。我邮箱是：message.winston@gmail.com&nbsp;&nbsp;<a onclick="return SetReplyAuhor(&quot;winston&quot;)" href="/czanyou/archive/2009/12/25/67940.html#post">回复</a>&nbsp;&nbsp;<a title="查看该作者发表过的评论" href="http://www.cppblog.com/comment?author=winston" target="_blank">更多评论</a>
				<a id="AjaxHolder_Comments_CommentList_ctl08_DeleteLink" href="javascript:__doPostBack('AjaxHolder$Comments$CommentList$ctl08$DeleteLink','')"></a>&nbsp;&nbsp;<a id="AjaxHolder_Comments_CommentList_ctl08_EditLink"></a>			
			</p>
		
			<h4>
				<a title="permalink: re: H.264 RTP payload 格式" href="/czanyou/archive/2009/12/25/67940.html#120297">#</a>&nbsp;<a name="120297"></a>re: H.264 RTP payload 格式
					<span>
						2010-07-14 10:21
					</span>
				<a id="AjaxHolder_Comments_CommentList_ctl09_NameLink" target="_blank">sc</a>
			</h4>
			<p>
				请教个问题，H.264的RTP发送中三种模式（单NAL单元模式、非交互模式、交互模式）和三种负载结构（单NAL单元包、聚合包、分片包）是怎么区别，我怎么感觉一样 了？谢谢......&nbsp;&nbsp;<a onclick="return SetReplyAuhor(&quot;sc&quot;)" href="/czanyou/archive/2009/12/25/67940.html#post">回复</a>&nbsp;&nbsp;<a title="查看该作者发表过的评论" href="http://www.cppblog.com/comment?author=sc" target="_blank">更多评论</a>
				<a id="AjaxHolder_Comments_CommentList_ctl09_DeleteLink" href="javascript:__doPostBack('AjaxHolder$Comments$CommentList$ctl09$DeleteLink','')"></a>&nbsp;&nbsp;<a id="AjaxHolder_Comments_CommentList_ctl09_EditLink"></a>			
			</p>
		
			<h4>
				<a title="permalink: re: H.264 RTP payload 格式" href="/czanyou/archive/2009/12/25/67940.html#120299">#</a>&nbsp;<a name="120299"></a>re: H.264 RTP payload 格式
					<span>
						2010-07-14 10:25
					</span>
				<a id="AjaxHolder_Comments_CommentList_ctl10_NameLink" href="http://www.cppblog.com/czanyou/" target="_blank">暗黑长老</a>
			</h4>
			<p>
				@sc<br>通过这个表可以比较清楚地看出它们的关系:<br><br>able 3.  Summary of allowed NAL unit types for each packetization<br>   mode (yes = allowed, no = disallowed, ig = ignore)<br><br>      Type   Packet    Single NAL    Non-Interleaved    Interleaved<br>                       Unit Mode           Mode             Mode<br>      -------------------------------------------------------------<br><br>      0      undefined     ig               ig               ig<br>      1-23   NAL unit     yes              yes               no<br>      24     STAP-A        no              yes               no<br>      25     STAP-B        no               no              yes<br>      26     MTAP16        no               no              yes<br>      27     MTAP24        no               no              yes<br>      28     FU-A          no              yes              yes<br>      29     FU-B          no               no              yes<br>      30-31  undefined     ig               ig               ig<br>&nbsp;&nbsp;<a onclick="return SetReplyAuhor(&quot;暗黑长老&quot;)" href="/czanyou/archive/2009/12/25/67940.html#post">回复</a>&nbsp;&nbsp;<a title="查看该作者发表过的评论" href="http://www.cppblog.com/comment?author=%e6%9a%97%e9%bb%91%e9%95%bf%e8%80%81" target="_blank">更多评论</a>
				<a id="AjaxHolder_Comments_CommentList_ctl10_DeleteLink" href="javascript:__doPostBack('AjaxHolder$Comments$CommentList$ctl10$DeleteLink','')"></a>&nbsp;&nbsp;<a id="AjaxHolder_Comments_CommentList_ctl10_EditLink"></a>			
			</p>
		
			<h4>
				<a title="permalink: re: H.264 RTP payload 格式" href="/czanyou/archive/2009/12/25/67940.html#120853">#</a>&nbsp;<a name="120853"></a>re: H.264 RTP payload 格式
					<span>
						2010-07-20 10:21
					</span>
				<a id="AjaxHolder_Comments_CommentList_ctl11_NameLink" target="_blank">sc</a>
			</h4>
			<p>
				非常感谢楼上的回答&nbsp;&nbsp;<a onclick="return SetReplyAuhor(&quot;sc&quot;)" href="/czanyou/archive/2009/12/25/67940.html#post">回复</a>&nbsp;&nbsp;<a title="查看该作者发表过的评论" href="http://www.cppblog.com/comment?author=sc" target="_blank">更多评论</a>
				<a id="AjaxHolder_Comments_CommentList_ctl11_DeleteLink" href="javascript:__doPostBack('AjaxHolder$Comments$CommentList$ctl11$DeleteLink','')"></a>&nbsp;&nbsp;<a id="AjaxHolder_Comments_CommentList_ctl11_EditLink"></a>			
			</p>
		
			<h4>
				<a title="permalink: re: H.264 RTP payload 格式" href="/czanyou/archive/2009/12/25/67940.html#120855">#</a>&nbsp;<a name="120855"></a>re: H.264 RTP payload 格式
					<span>
						2010-07-20 11:13
					</span>
				<a id="AjaxHolder_Comments_CommentList_ctl12_NameLink" target="_blank">sc</a>
			</h4>
			<p>
				// 如果一个 NALU 大于最大的 RTP 包的大小, 则需要把它进行分片后打包发送 <br>BYTE buffer[1500]; <br><br>BYTE nalHeader = sliceData[0]; // NALU 头 <br>BYTE* data = sliceData + 1; <br>int leftover = sliceSize - 1; <br>BOOL isStart = TRUE; <br><br>while (leftover &gt; 0) { <br>int size = MIN(1350, leftover); <br>isEnd = (size == leftover); <br>问一个问题，楼上程序中的int size = MIN(1350, leftover); 应该是<br>int size = MAX(1350, leftover); 呢还是MIN,我感觉是MAX，谢谢楼主。<br>&nbsp;&nbsp;<a onclick="return SetReplyAuhor(&quot;sc&quot;)" href="/czanyou/archive/2009/12/25/67940.html#post">回复</a>&nbsp;&nbsp;<a title="查看该作者发表过的评论" href="http://www.cppblog.com/comment?author=sc" target="_blank">更多评论</a>
				<a id="AjaxHolder_Comments_CommentList_ctl12_DeleteLink" href="javascript:__doPostBack('AjaxHolder$Comments$CommentList$ctl12$DeleteLink','')"></a>&nbsp;&nbsp;<a id="AjaxHolder_Comments_CommentList_ctl12_EditLink"></a>			
			</p>
		
			<h4>
				<a title="permalink: re: H.264 RTP payload 格式[未登录]" href="/czanyou/archive/2009/12/25/67940.html#146711">#</a>&nbsp;<a name="146711"></a>re: H.264 RTP payload 格式[未登录]
					<span>
						2011-05-18 23:23
					</span>
				<a id="AjaxHolder_Comments_CommentList_ctl13_NameLink" target="_blank">随心</a>
			</h4>
			<p>
				@暗黑长老<br>PTS跟timestamp怎么设定的？？&nbsp;&nbsp;<a onclick="return SetReplyAuhor(&quot;随心&quot;)" href="/czanyou/archive/2009/12/25/67940.html#post">回复</a>&nbsp;&nbsp;<a title="查看该作者发表过的评论" href="http://www.cppblog.com/comment?author=%e9%9a%8f%e5%bf%83" target="_blank">更多评论</a>
				<a id="AjaxHolder_Comments_CommentList_ctl13_DeleteLink" href="javascript:__doPostBack('AjaxHolder$Comments$CommentList$ctl13$DeleteLink','')"></a>&nbsp;&nbsp;<a id="AjaxHolder_Comments_CommentList_ctl13_EditLink"></a>			
			</p>
		
			<h4>
				<a title="permalink: re: H.264 RTP payload 格式" href="/czanyou/archive/2009/12/25/67940.html#181448">#</a>&nbsp;<a name="181448"></a>re: H.264 RTP payload 格式
					<span>
						2012-07-05 10:19
					</span>
				<a id="AjaxHolder_Comments_CommentList_ctl14_NameLink" target="_blank">童爱玲</a>
			</h4>
			<p>
				肯定是MIN啊<br>@sc<br>&nbsp;&nbsp;<a onclick="return SetReplyAuhor(&quot;童爱玲&quot;)" href="/czanyou/archive/2009/12/25/67940.html#post">回复</a>&nbsp;&nbsp;<a title="查看该作者发表过的评论" href="http://www.cppblog.com/comment?author=%e7%ab%a5%e7%88%b1%e7%8e%b2" target="_blank">更多评论</a>
				<a id="AjaxHolder_Comments_CommentList_ctl14_DeleteLink" href="javascript:__doPostBack('AjaxHolder$Comments$CommentList$ctl14$DeleteLink','')"></a>&nbsp;&nbsp;<a id="AjaxHolder_Comments_CommentList_ctl14_EditLink"></a>			
			</p>
		
			<h4>
				<a title="permalink: re: H.264 RTP payload 格式" href="/czanyou/archive/2009/12/25/67940.html#198064">#</a>&nbsp;<a name="198064"></a>re: H.264 RTP payload 格式
					<span>
						2013-02-25 17:34
					</span>
				<a id="AjaxHolder_Comments_CommentList_ctl15_NameLink" target="_blank">hiber</a>
			</h4>
			<p>
				没有看到source code，能share下吗？&nbsp;&nbsp;<a onclick="return SetReplyAuhor(&quot;hiber&quot;)" href="/czanyou/archive/2009/12/25/67940.html#post">回复</a>&nbsp;&nbsp;<a title="查看该作者发表过的评论" href="http://www.cppblog.com/comment?author=hiber" target="_blank">更多评论</a>
				<a id="AjaxHolder_Comments_CommentList_ctl15_DeleteLink" href="javascript:__doPostBack('AjaxHolder$Comments$CommentList$ctl15$DeleteLink','')"></a>&nbsp;&nbsp;<a id="AjaxHolder_Comments_CommentList_ctl15_EditLink"></a>			
			</p>
		
			<h4>
				<a title="permalink: re: H.264 RTP payload 格式" href="/czanyou/archive/2009/12/25/67940.html#198289">#</a>&nbsp;<a name="198289"></a>re: H.264 RTP payload 格式<a name="Post"></a>
					<span>
						2013-03-08 11:26
					</span>
				<a id="AjaxHolder_Comments_CommentList_ctl16_NameLink" target="_blank">kaly_liu</a>
			</h4>
			<p>
				这篇牛！！！！<br>贼清楚啦~~~&nbsp;&nbsp;<a onclick="return SetReplyAuhor(&quot;kaly_liu&quot;)" href="/czanyou/archive/2009/12/25/67940.html#post">回复</a>&nbsp;&nbsp;<a title="查看该作者发表过的评论" href="http://www.cppblog.com/comment?author=kaly_liu" target="_blank">更多评论</a>
				<a id="AjaxHolder_Comments_CommentList_ctl16_DeleteLink" href="javascript:__doPostBack('AjaxHolder$Comments$CommentList$ctl16$DeleteLink','')"></a>&nbsp;&nbsp;<a id="AjaxHolder_Comments_CommentList_ctl16_EditLink"></a>			
			</p>
		
<br>
</div><div id="AjaxHolder_Comments_divRefreshComments" style="text-align:right;margin-right:10px;margin-bottom:5px;font-size:12px;"><a id="AjaxHolder_Comments_refreshList" href="javascript:__doPostBack('AjaxHolder$Comments$refreshList','')">刷新评论列表</a></div>
<style>
td { font-size: 12px }
.commentTextBox 
{ 
    font-family : Verdana; 
    font-size: 13px;
 }
</style>
<!--Beging Temp Save-->
<STYLE>.userData { BEHAVIOR: url(#default#userdata) }
	</STYLE>
<DIV class="userData" id="CommentsPersistDiv"></DIV>
<script type="text/javascript">
function pageLoad()
{
    Sys.WebForms.PageRequestManager.getInstance().add_initializeRequest(handleInitializeRequest);
    //Sys.WebForms.PageRequestManager.getInstance().add_endRequest(handleEndRequest);
}

function handleInitializeRequest(sender, args)
{
    var prm = Sys.WebForms.PageRequestManager.getInstance();
    var eid = args.get_postBackElement().id;
    if (eid.indexOf("DeleteLink")>0) 
    {
       args.get_postBackElement().innerHTML = "<font color='red'>正在删除...</font>";         
    }    
    if (eid.indexOf("btnSubmit")>0) 
    {
       document.getElementById("AjaxHolder_PostComment_ltSubmitMsg").innerHTML="正在提交...";
       document.getElementById("AjaxHolder_PostComment_btnSubmit").disabled = true;
       
    }    
   
}	

function TempSave(ElementID)
{
	try
	{
	CommentsPersistDiv.setAttribute("CommentContent",document.getElementById(ElementID).value);
	CommentsPersistDiv.save("CommentXMLStore");
	}
	catch(ex)
	{
	}
	
}
function Restore(ElementID)
{
	CommentsPersistDiv.load("CommentXMLStore");
	document.getElementById(ElementID).value=CommentsPersistDiv.getAttribute("CommentContent");
}	
			
			
</script>
<!--Ene TempSave-->
<div class="commentform">
<span id="AjaxHolder_PostComment_ltSubmitMsg" style="color:Red;"></span>
<br />
<a name="Feedback"></a>
	<TABLE cellSpacing="1" cellPadding="1" border="0">
		<tr>			
		<td id="AjaxHolder_PostComment_tdOnCommentForm" colspan="3">
		<div id="blog_bottom_adtext"></script>
		<script type="text/javascript">
		var adHtml = '<a href="http://job.cnblogs.com/" target="_blank">程序员找工作，就在博客园招聘频道</a>';
		var now = new Date();
	    if (now < new Date('May 31,2014')) {
	        adHtml = '<a href="http://www.lagou.com/?_channel_cppblog2" target="_blank">6000+互联网公司高薪职位，等你来投！</a>';
	    }
	    document.getElementById('blog_bottom_adtext').innerHTML = adHtml;
		</script>	
		</td>
	
		</tr>
		<TR>
			<TD colSpan="3">
<Script Type="Text/Javascript">
try{
  GA_googleFillSlot("cppblog_commentbox_up");
  } catch (e) { }
</Script>
<br/> </TD>
		</TR>
		<TR>
			<TD width="75"></TD>
			<TD></TD>
			<TD></TD>
		</TR>
		<TR>
			<TD></TD>
			<TD colSpan="2">
			<a href="http://www.cnblogs.com" target="_blank">博客园</a>&nbsp;  <a href="http://q.cnblogs.com/" target="_blank">博问</a>&nbsp; <a href="http://news.cnblogs.com" target="_blank">IT新闻</a>&nbsp; <a href="http://job.cnblogs.com/cate-cpp_programmer/" target="_blank">C++程序员招聘</a>
			</TD>
		</TR>
		<TR>
			<TD width="55">标题</TD>
			<TD><input name="AjaxHolder$PostComment$tbTitle" type="text" value="re: H.264 RTP payload 格式" id="AjaxHolder_PostComment_tbTitle" class="commenttb" style="width:320" /></TD>
			<TD><span id="AjaxHolder_PostComment_RequiredFieldValidator1" style="color:Red;visibility:hidden;">请输入标题</span></TD>
		</TR>
		<TR>
			<TD>姓名</TD>
			<TD><input name="AjaxHolder$PostComment$tbName" type="text" id="AjaxHolder_PostComment_tbName" class="commenttb" style="width:320" /></TD>
			<TD><span id="AjaxHolder_PostComment_RequiredFieldValidator2" style="color:Red;visibility:hidden;">请输入你的姓名</span></TD>
		</TR>
		<TR>
			<TD>主页</TD>
			<TD><input name="AjaxHolder$PostComment$tbUrl" type="text" id="AjaxHolder_PostComment_tbUrl" class="commenttb" style="width:320" /></TD>
			<TD><FONT face="宋体"></FONT></TD>
		</TR>
		<tr>
			<td align="left" colSpan="3">
				<table id="AjaxHolder_PostComment_tbCaptchaImage" class="CommentForm" cellspacing="0" cellpadding="0" border="0">
		<tr>
			<td colspan="3">
							<span id="AjaxHolder_PostComment_Requiredfieldvalidator4" style="color:Red;display:none;">请输入验证码</span>
							<span id="AjaxHolder_PostComment_lblImage" style="color:Red;font-weight:bold;"></span>
						</td>
		</tr>
		<tr>
			<td width="78">验证码</td>
			<td><input name="AjaxHolder$PostComment$CodeNumberTextBox" type="text" id="AjaxHolder_PostComment_CodeNumberTextBox" />*</td>
			<td align="left">
							<img src="../../../../../Modules/CaptchaImage/JpegImage.aspx" id="AjaxHolder_PostComment_Img1" />
						</td>
		</tr>
	</table>
	
			</td>
		</tr>
		<TR>
			<TD colSpan="3">内容(提交失败后,可以通过“恢复上次提交”恢复刚刚提交的内容)
				<span id="AjaxHolder_PostComment_RequiredFieldValidator3" style="color:Red;visibility:hidden;">请输入评论内容</span><BR>
				<textarea name="AjaxHolder$PostComment$tbComment" rows="10" cols="50" id="AjaxHolder_PostComment_tbComment" class="commentTextBox" onkeydown="ctlent(event,'AjaxHolder_PostComment_tbComment')" style="Width:480;Height:220"></textarea></TD>
		</TR>
		<TR>
			<TD colSpan="3">
		<span id="AjaxHolder_PostComment_Message" style="color:Red;"></span>
		</td>
		<TR>
			<TD colSpan="3"><input id="AjaxHolder_PostComment_chkRemember" type="checkbox" name="AjaxHolder$PostComment$chkRemember" checked="checked" tabindex="-1" /><label for="AjaxHolder_PostComment_chkRemember">Remember Me?</label></TD>
		</TR>
		<TR>
			<TD height="23"><input type="submit" name="AjaxHolder$PostComment$btnSubmit" value="提交" onclick="TempSave('AjaxHolder_PostComment_tbComment');WebForm_DoPostBackWithOptions(new WebForm_PostBackOptions(&quot;AjaxHolder$PostComment$btnSubmit&quot;, &quot;&quot;, true, &quot;&quot;, &quot;&quot;, false, false))" id="AjaxHolder_PostComment_btnSubmit" />
				</TD>
			<td colSpan="2" height="23">&nbsp;
				<a id="AjaxHolder_PostComment_lnkLogin" href="http://www.cppblog.com/login.aspx?ReturnURL=http://www.cppblog.com/czanyou/archive/2009/12/25/67940.html&amp;SourceURL=/czanyou/archive/2009/12/25/67940.html">登录</a>&nbsp;&nbsp;<a id="AjaxHolder_PostComment_linkLoginComment" OnClick="if(document.getElementById('AjaxHolder_PostComment_tbComment').value != '') return confirm('未提交的评论内容将会丢失, 你真的要进入高级评论吗?');" href="http://www.cppblog.com/czanyou/archive/2009/12/25/67940.html?login=1#Post">使用高级评论</a>&nbsp;&nbsp;<a href="http://www.cppblog.com/RequireRegister.aspx">新用户注册</a>&nbsp;&nbsp;<A href="#Top">返回页首</A>&nbsp;&nbsp;<a id="AjaxHolder_PostComment_lbRestore" OnClick="Restore('AjaxHolder_PostComment_tbComment'); return false;" href="/czanyou/archive/2009/12/25/67940.html#Post">恢复上次提交</a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
				</td>
		</tr>
		<tr>
			<td colspan="3">[使用Ctrl+Enter键可以直接提交]</td>
		</tr>
		<tr>
		<td colspan="3">
		<script type='text/javascript'>
		(function() {
		var useSSL = 'https:' == document.location.protocol;
		var src = (useSSL ? 'https:' : 'http:') +
		'//www.googletagservices.com/tag/js/gpt.js';
		document.write('<scr' + 'ipt src="' + src + '"></scr' + 'ipt>');
		})();
		</script>

		<script type='text/javascript'>
		googletag.defineSlot('/1090369/cppblog_blogpost_bottom', [300, 250], 'div-gpt-ad-1391948236744-0').addService(googletag.pubads());
		googletag.pubads().enableSyncRendering();
		googletag.pubads().enableSingleRequest();
		googletag.enableServices();
		</script>
		
		<!-- cppblog_blogpost_bottom -->
		<div id='div-gpt-ad-1391948236744-0' style='width:300px; height:250px;'>
		<script type='text/javascript'>
		googletag.display('div-gpt-ad-1391948236744-0');
		</script>
		</div>
		</td>
		</tr>
		<tr>			
		<td colspan="3">
		
		</td>
		</tr>
		<TR>
			<TD colSpan="3" height="5"></TD>
		</TR>
		<TR>
			<TD colSpan="3"></TD>
		</TR>
		<TR>
			<TD colSpan="3" height="1"><div id="blogsite">网站导航:
			<a href="http://www.cnblogs.com">博客园</a>&nbsp;&nbsp;
			<a href="http://news.cnblogs.com">IT新闻</a>&nbsp;&nbsp;
			<a href="http://www.blogjava.net">BlogJava</a>&nbsp;&nbsp;
			<a href="http://kb.cnblogs.com">知识库</a>&nbsp;&nbsp;
			<a href="http://job.cnblogs.com">程序员招聘</a>&nbsp;&nbsp;
			<a href="/czanyou/archive/2009/12/25/67940.html?opt=admin">管理</a>
			</div></TD>
		</TR>
		<TR>
			<TD colSpan="3">
				
<br/>

<br/>

</TD>
		</TR>
	</TABLE>	
</div>
<div id="AjaxHolder_PostComment_ValidationSummary1" style="color:Red;display:none;">

	</div>

</div>

				
</div>


<p id="footer">
	Powered by: 
	<br />
	
	<a id="Footer1_Hyperlink3" NAME="Hyperlink1" href="http://www.cppblog.com/" style="font-family:Verdana;font-size:12px;">C++博客</a>
	<br />
	Copyright &copy; 暗黑长老
</p>    
    
<script type="text/javascript">
//<![CDATA[
var Page_ValidationSummaries =  new Array(document.getElementById("AjaxHolder_PostComment_ValidationSummary1"));
var Page_Validators =  new Array(document.getElementById("AjaxHolder_PostComment_RequiredFieldValidator1"), document.getElementById("AjaxHolder_PostComment_RequiredFieldValidator2"), document.getElementById("AjaxHolder_PostComment_Requiredfieldvalidator4"), document.getElementById("AjaxHolder_PostComment_RequiredFieldValidator3"));
//]]>
</script>

<script type="text/javascript">
//<![CDATA[
var AjaxHolder_PostComment_RequiredFieldValidator1 = document.all ? document.all["AjaxHolder_PostComment_RequiredFieldValidator1"] : document.getElementById("AjaxHolder_PostComment_RequiredFieldValidator1");
AjaxHolder_PostComment_RequiredFieldValidator1.controltovalidate = "AjaxHolder_PostComment_tbTitle";
AjaxHolder_PostComment_RequiredFieldValidator1.errormessage = "请输入标题";
AjaxHolder_PostComment_RequiredFieldValidator1.evaluationfunction = "RequiredFieldValidatorEvaluateIsValid";
AjaxHolder_PostComment_RequiredFieldValidator1.initialvalue = "";
var AjaxHolder_PostComment_RequiredFieldValidator2 = document.all ? document.all["AjaxHolder_PostComment_RequiredFieldValidator2"] : document.getElementById("AjaxHolder_PostComment_RequiredFieldValidator2");
AjaxHolder_PostComment_RequiredFieldValidator2.controltovalidate = "AjaxHolder_PostComment_tbName";
AjaxHolder_PostComment_RequiredFieldValidator2.errormessage = "请输入你的姓名";
AjaxHolder_PostComment_RequiredFieldValidator2.evaluationfunction = "RequiredFieldValidatorEvaluateIsValid";
AjaxHolder_PostComment_RequiredFieldValidator2.initialvalue = "";
var AjaxHolder_PostComment_Requiredfieldvalidator4 = document.all ? document.all["AjaxHolder_PostComment_Requiredfieldvalidator4"] : document.getElementById("AjaxHolder_PostComment_Requiredfieldvalidator4");
AjaxHolder_PostComment_Requiredfieldvalidator4.controltovalidate = "AjaxHolder_PostComment_CodeNumberTextBox";
AjaxHolder_PostComment_Requiredfieldvalidator4.errormessage = "请输入验证码";
AjaxHolder_PostComment_Requiredfieldvalidator4.display = "Dynamic";
AjaxHolder_PostComment_Requiredfieldvalidator4.evaluationfunction = "RequiredFieldValidatorEvaluateIsValid";
AjaxHolder_PostComment_Requiredfieldvalidator4.initialvalue = "";
var AjaxHolder_PostComment_RequiredFieldValidator3 = document.all ? document.all["AjaxHolder_PostComment_RequiredFieldValidator3"] : document.getElementById("AjaxHolder_PostComment_RequiredFieldValidator3");
AjaxHolder_PostComment_RequiredFieldValidator3.controltovalidate = "AjaxHolder_PostComment_tbComment";
AjaxHolder_PostComment_RequiredFieldValidator3.errormessage = "请输入评论内容";
AjaxHolder_PostComment_RequiredFieldValidator3.evaluationfunction = "RequiredFieldValidatorEvaluateIsValid";
AjaxHolder_PostComment_RequiredFieldValidator3.initialvalue = "";
var AjaxHolder_PostComment_ValidationSummary1 = document.all ? document.all["AjaxHolder_PostComment_ValidationSummary1"] : document.getElementById("AjaxHolder_PostComment_ValidationSummary1");
AjaxHolder_PostComment_ValidationSummary1.showmessagebox = "True";
AjaxHolder_PostComment_ValidationSummary1.showsummary = "False";
//]]>
</script>


<script type="text/javascript">
//<![CDATA[

var Page_ValidationActive = false;
if (typeof(ValidatorOnLoad) == "function") {
    ValidatorOnLoad();
}

function ValidatorOnSubmit() {
    if (Page_ValidationActive) {
        return ValidatorCommonOnSubmit();
    }
    else {
        return true;
    }
}
        
document.getElementById('AjaxHolder_PostComment_ValidationSummary1').dispose = function() {
    Array.remove(Page_ValidationSummaries, document.getElementById('AjaxHolder_PostComment_ValidationSummary1'));
}
Sys.Application.initialize();

document.getElementById('AjaxHolder_PostComment_RequiredFieldValidator1').dispose = function() {
    Array.remove(Page_Validators, document.getElementById('AjaxHolder_PostComment_RequiredFieldValidator1'));
}

document.getElementById('AjaxHolder_PostComment_RequiredFieldValidator2').dispose = function() {
    Array.remove(Page_Validators, document.getElementById('AjaxHolder_PostComment_RequiredFieldValidator2'));
}

document.getElementById('AjaxHolder_PostComment_Requiredfieldvalidator4').dispose = function() {
    Array.remove(Page_Validators, document.getElementById('AjaxHolder_PostComment_Requiredfieldvalidator4'));
}

document.getElementById('AjaxHolder_PostComment_RequiredFieldValidator3').dispose = function() {
    Array.remove(Page_Validators, document.getElementById('AjaxHolder_PostComment_RequiredFieldValidator3'));
}
//]]>
</script>
</form>
	<script type="text/javascript" src="/script/ShowHidden.js"></script>   
	<script type="text/javascript">
	  var _gaq = _gaq || [];
	  _gaq.push(['_setAccount', 'UA-476124-5']);
	  _gaq.push(['_trackPageview']);

	  (function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	  })();
	</script>
</body>
</html>
